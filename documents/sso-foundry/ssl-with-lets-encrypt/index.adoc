= Enable TLS/SSL with Let's Encrypt

== Overview


== DNS Configuration

Type: A
Name: @
Value: WebsiteBuilder Site
TTL: 1 Hour

Value: <IP_ADDRESS_OF_YOUR_LOAD_BALANCER>

== ClusterIssuer

First, create a ClusterIssuer resource for the CA-based certificates.

.clusterissuer-letsencrypt-http.yaml
[source,yaml]
----
include::clusterissuer-letsencrypt-http.yaml[]
----

Apply the ClusterIssuer resource:
[source,shell]
----
$ kubectl apply -f clusterissuer-letsencrypt-http.yaml
----

It generates TLS private key in the secret `letsencrypt-http-private-key` in the `cert-manager` namespace.

== Create a Certificate resource

Next, create a Certificate resource to request a TLS certificate for your domain.

.certificate-servicefoundry.yaml
[source,yaml]
----
include::certificate-servicefoundry.yaml[]
----

Apply the Certificate resource:
[source,shell]
----
$ kubectl apply -f certificate-servicefoundry.yaml
----

This creates a TLS certificate for `servicefoundry.ca` and `*.servicefoundry.ca`, stored in the secret `servicefoundry-tls` in the `cert-manager` namespace.


---
layout: documents
title: AWS Cloud Shell Setup Guide
summary: "This article introduces a practical guide for setting up AWS Cloud Shell to deploy Kubernetes workloads using Helm. With no local setup required, developers and platform engineers can manage EKS clusters, run kubectl commands, and install Helm chartsâ€”all within the browser. The guide walks through Cloud Shell basics, installing CLI tools, accessing EKS securely, and even setting up Git SSH keys for private repo access. Whether youâ€™re new to Kubernetes or looking to streamline your cloud-native workflows, this tutorial shows how AWS Cloud Shell can become a powerful and portable DevOps environment."
tags: "#AWSCloudShell #Kubernetes #EKS #DevOps #PlatformEngineering #HelmCharts #CloudComputing #InfrastructureAsCode #CloudNative #ServiceFoundry"
author: Young Gyu Kim
email: credemol@gmail.com
breadcrumb:
  - name: Home
    url: /
  - name: Docs
    url: /documents/
  - name: Blog
    url: /documents/blog/
---


= AWS Cloud Shell Setup Guide

:imagesdir: images

[.img-wide]
image::cloud-shell-architecture.png[]

== Overview

*YouTube Video Tutorial*: https://youtu.be/9qyVR5EEIes


This guide walks you through setting up AWS Cloud Shell to deploy Service Foundry using Helm charts.
AWS Cloud Shell lets you manage AWS resources and Kubernetes clusters directly from your browserâ€”no local installation required.

Itâ€™s especially useful for users who want a clean, preconfigured environment for working with AWS, EKS, Helm, and Git.


=== Prerequisites

	â€¢	An AWS account with sufficient permissions
	â€¢	Basic familiarity with AWS Cloud Shell and Kubernetes

=== What Youâ€™ll Learn

	â€¢	What AWS Cloud Shell is and how it works
	â€¢	How to set up Cloud Shell stepâ€‘byâ€‘step
	â€¢	How to install and verify AWS CLI, kubectl, and Helm
	â€¢	How to connect Cloud Shell to your EKS cluster
	â€¢	How to configure Git credentials (optional)


== What is AWS Cloud Shell?

*AWS Cloud Shell* is a browserâ€‘based terminal environment that provides commandâ€‘line access to your AWS resources.
It includes tools like *AWS CLI*, *kubectl*, and *Git* preinstalled and is automatically authenticated with your IAM identity.

For IAM users, the free tier includes *1 GB of persistent storage*, and note that Cloud Shell *cannot run a single longâ€‘running task for more than 12 hours*

=== Key Features

	â€¢	Ready to use â€” tools like AWS CLI are already installed
	â€¢	Automatically authenticated with your AWS credentials
	â€¢	Fully managed environment with no setup required
	â€¢	1 GB of persistent user storage

=== Shell Session Behavior

	â€¢	Inactive sessions pause automatically after 20 minutes
	â€¢	Longâ€‘running sessions are terminated after 12 hours, even if you stay active

== Stepâ€‘byâ€‘Step Setup

=== 1. Launch AWS Cloud Shell

Log in to the AWS Management Console and click the Cloud Shell icon in the upperâ€‘right corner.

.AWS Cloud Shell - Launch
[.img-wide]
image::aws-console.png[]

=== 2. Verify AWS CLI Configuration

Cloud Shell automatically configures the AWS CLI. You can confirm the active settings:

[source,shell]
----
$ aws configure list
----

Sample output:
[source,shell]
----
NAME       : VALUE                    : TYPE             : LOCATION
profile    : <not set>                : None             : None
access_key : ****************HXWO     : container-role   :
secret_key : ****************99Rl     : container-role   :
region     : ca-central-1             : env              : ['AWS_REGION', 'AWS_DEFAULT_REGION']
----

=== 3. Verify Installed Tools

Check that your key utilities are available:

[source,shell]
----
$ aws --version
$ kubectl version --client
$ git --version

$ helm version
bash: helm: command not found
----

Helm is not preinstalled, so youâ€™ll install it next.

=== 4. Install Helm

If Helm is not installed, you can install it by running the following commands:
[source,shell]
----
$ curl https://raw.githubusercontent.com/helm/helm/main/scripts/get-helm-3 | bash

$ helm version
----

=== 5. Connect Cloud Shell to Your EKS Cluster

To update your Kubernetes configuration to connect to your EKS cluster, use the following command:

[source,shell]
----
# Set your EKS cluster name
$ EKS_CLUSTER_NAME="your-eks-cluster-name"
$ aws eks update-kubeconfig --region $AWS_REGION --name $EKS_CLUSTER_NAME
----

Test the connection:
[source,shell]
----
# Verify the connection
$ kubectl get nodes

# Permission denied error
E1126 19:22:33.267316     882 memcache.go:265] "Unhandled Error" err="couldn't get current server API group list: the server has asked for the client to provide credentials"
----

Check your IAM identity:

[source,shell]
----
$ aws sts get-caller-identity --query Arn --output text

arn:aws:iam::44------:user/your-iam-user
----


This IAM ARN must be added to the aws-auth ConfigMap by an EKS admin.

View the existing config:

[source,shell]
----
$ kubectl -n kube-system get configmap aws-auth -o yaml
----

An admin user should add:

[source,shell]
----
$ kubectl edit configmap aws-auth -n kube-system
----

Add the following under `mapUsers:` section:
[source,yaml]
----
data:
  mapUsers: |
    - userarn: arn:aws:iam::44------:user/your-iam-user
      username: cloudshell-user
      groups:
        - system:masters
----

Save and exit the editor.

After updating, test again:

.kubectl get nodes
[source,shell]
----
$ kubectl get nodes

NAME                                             STATUS   ROLES    AGE     VERSION
ip-192-168-18-56.ca-central-1.compute.internal   Ready    <none>   3h14m   v1.33.5-eks-ecaa3a6
----

List Helm apps:
[source,shell]
----
$  helm list -A
NAME                    NAMESPACE       REVISION        UPDATED                                 STATUS          CHART                           APP VERSION
aws-cluster-autoscaler  kube-system     1               2025-11-26 09:25:19.295873 -0800 -0800  deployed        cluster-autoscaler-9.50.1       1.33.0
----

=== 6. (Optional) Set Up Git Credentials

If you need to clone private repositories, configure SSH keys.

Generate a key pair:
[source,shell]
----
$ ssh-keygen -t rsa -b 4096 -C "emillian@servicefoundry.org" -f ~/.ssh/id_rsa

$ ls ~/.ssh/

id_rsa  id_rsa.pub
----

Add the public key to GitHub:
[source,shell]
----
$ cat ~/.ssh/id_rsa.pub
----

.Add the deploy key to your GitHub repository
[.img-wide]
image::github-add-deploy-key-1.png[]



Trust GitHub host key:

[source,shell]
----
$ ssh-keyscan github.com >> ~/.ssh/known_hosts

$ cat ~/.ssh/known_hosts
----

Clone a repository:
[source,shell]
----
$ git clone git@github.com:nsalexamy/service-foundry-demo.git
----

// .Add the private key to the SSH agent
// [source,shell]
// ----
// $ eval "$(ssh-agent -s)"
// $ ssh-add ~/.ssh/id_rsa
// ----

=== 7. Youâ€™re Ready to Go!

Cloud Shell is now configured with:

â€¢	AWS CLI
â€¢	kubectl
â€¢	Helm
â€¢	Optional Git SSH access

You can now manage AWS resources, connect to EKS clusters, and deploy Service Foundry using Helm.

Additional useful tools included in Cloud Shell:

â€¢	yq â€” YAML processor
â€¢	jq â€” JSON processor

Install yq if needed:
[source,shell]
----
YQ_VERSION="v4.44.1" && TARGETARCH="amd64" && \
    curl -L https://github.com/mikefarah/yq/releases/download/${YQ_VERSION}/yq_linux_${TARGETARCH} -o yq && \
    chmod +x yq && \
    sudo mv yq /usr/local/bin/yq
----

== Conclusion

Youâ€™ve successfully configured AWS Cloud Shell for managing AWS resources and Kubernetes workloads.
With AWS CLI, kubectl, Helm, and Git ready to go, you can deploy and manage Service Foundry directly from your browser.

Service Foundry also provides bootstrap scripts optimized for Cloud Shell to streamline deployments even further.
Refer to the Service Foundry documentation for details.

ðŸ“˜ View the web version:

* https://nsalexamy.github.io/service-foundry/pages/documents/blog/aws-cloud-shell/

== References

* https://docs.aws.amazon.com/cloudshell/latest/userguide/welcome.html



{empty} +
{empty} +
{empty} +
{empty} +
{empty} +
{empty} +
{empty} +
{empty} +
{empty} +
{empty} +
{empty} +
{empty} +
{empty} +
{empty} +
{empty} +
{empty} +


[.img-wide]
image::thnak-you-for-watching.png[]

{empty} +
{empty} +
{empty} +
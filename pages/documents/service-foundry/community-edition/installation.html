<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Service Foundry Community Edition - Installation Guide</title>
    <!-- rouge source highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/service-foundry/pages/assets/css/main.css">

    <!-- Highlight.js script -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <script>
        hljs.highlightAll();
    </script>
</head>
<body class="">

<!-- Header -->
<header>
<!--    <div class="logo text-xl font-semibold">Service Foundry</div>-->
    <a href="/service-foundry/pages/index.html" class="text-2xl font-semibold hover:text-teal-400">
    Service Foundry
</a>
    <nav>
    
        
        <a href="/service-foundry/pages/getting-started/" class="">Getting Started</a>
    
        
        <a href="/service-foundry/pages/products/" class="">Products</a>
    
        
        <a href="/service-foundry/pages/documents/" class="active">Docs</a>
    
        
        <a href="/service-foundry/pages/github/" class="">GitHub</a>
    
        
        <a href="/service-foundry/pages/developers/" class="">Developers</a>
    
        
        <a href="/service-foundry/pages/demo/" class="">Demo</a>
    
</nav>
</header>


    <!-- Sub-navigation for Foundries -->
    <div class="subnav">

    
    <a href="/service-foundry/pages/documents/service-foundry/" class="active">Service Foundry</a>

    
    <a href="/service-foundry/pages/documents/blog/" class="">Blog</a>

    
    <a href="/service-foundry/pages/documents/infra-foundry/" class="">Infra</a>

    
    <a href="/service-foundry/pages/documents/sso-foundry/" class="">SSO</a>

    
    <a href="/service-foundry/pages/documents/o11y-foundry/" class="">Observability</a>

    
    <a href="/service-foundry/pages/documents/backend-foundry/" class="">Backend</a>

    
    <a href="/service-foundry/pages/documents/bigdata-foundry/" class="">Big Data</a>

<!--    <a href="/service-foundry/pages/documents/infra-foundry/index-backup.html" class="text-gray-300 hover:text-white">Infra</a>-->
<!--    <a href="/service-foundry/pages/documents/sso-foundry/index-backup.html" class="text-gray-300 hover:text-white">SSO</a>-->
<!--    <a href="/service-foundry/pages/documents/o11y-foundry/index-backup.html" class="text-gray-300 hover:text-white">Observability</a>-->
<!--    <a href="/service-foundry/pages/documents/backend-foundry/index-backup.html" class="text-gray-300 hover:text-white">Backend</a>-->
<!--    <a href="/service-foundry/pages/documents/bigdata-foundry/index-backup.html" class="text-gray-300 hover:text-white">Big Data</a>-->
</div>





<!-- Breadcrumb -->

    <nav class="breadcrumb-wrapper">
    <ol class="breadcrumb">
        
        <li>
            
            <a href="/service-foundry/pages/">Home</a>
            
            
            <span class="separator">/</span>
            
        </li>
        
        <li>
            
            <a href="/service-foundry/pages/documents/">Docs</a>
            
            
            <span class="separator">/</span>
            
        </li>
        
        <li>
            
            <a href="/service-foundry/pages/documents/service-foundry/">Service Foundry</a>
            
            
        </li>
        
    </ol>
</nav>





<!-- Main Layout -->
<div class="container">


    <nav id="toc-container" class="toc-nav"></nav>


    <main id="main-content">
        
        <div class="author-box">
            Young Gyu Kim
            &lt;<a href="mailto:credemol@gmail.com" style="color: #0d9488; text-decoration: none;">credemol@gmail.com</a>&gt;
        </div>
        

        <!-- Title -->
        
        <h1 class="page-title">
            Service Foundry Community Edition - Installation Guide
        </h1>
        

        <div class="asciidoc">
            <div id="toc" class="toc">
<div id="toctitle">On this page</div>
<ul class="sectlevel1">
<li><a href="#overview">Overview</a></li>
<li><a href="#prerequisites">Prerequisites</a>
<ul class="sectlevel2">
<li><a href="#required-accounts-and-access">Required Accounts and Access</a></li>
<li><a href="#technical-knowledge">Technical Knowledge</a></li>
</ul>
</li>
<li><a href="#getting-started">Getting Started</a>
<ul class="sectlevel2">
<li><a href="#accessing-the-community-portal">Accessing the Community Portal</a></li>
</ul>
</li>
<li><a href="#community-edition-license">Community Edition License</a>
<ul class="sectlevel2">
<li><a href="#understanding-the-license-model">Understanding the License Model</a></li>
<li><a href="#step-1-obtaining-your-community-edition-license">Step 1: Obtaining Your Community Edition License</a></li>
</ul>
</li>
<li><a href="#bootstrap-scripts-generation">Bootstrap Scripts Generation</a>
<ul class="sectlevel2">
<li><a href="#understanding-the-bootstrap-process">Understanding the Bootstrap Process</a></li>
<li><a href="#core-components-included">Core Components Included</a></li>
<li><a href="#https-and-tls-certificates">HTTPS and TLS Certificates</a></li>
<li><a href="#generating-bootstrap-scripts">Generating Bootstrap Scripts</a></li>
<li><a href="#managing-secure-properties">Managing Secure Properties</a></li>
<li><a href="#bootstrap-configuration-properties">Bootstrap Configuration Properties</a></li>
<li><a href="#downloading-bootstrap-scripts">Downloading Bootstrap Scripts</a></li>
</ul>
</li>
<li><a href="#aws-cloudshell-setup">AWS CloudShell Setup</a>
<ul class="sectlevel2">
<li><a href="#why-use-aws-cloudshell">Why Use AWS CloudShell?</a></li>
<li><a href="#learning-resources">Learning Resources</a></li>
<li><a href="#additional-tools-required">Additional Tools Required</a></li>
<li><a href="#preparing-your-cloudshell-environment">Preparing Your CloudShell Environment</a></li>
</ul>
</li>
<li><a href="#gitops-repository-setup">GitOps Repository Setup</a>
<ul class="sectlevel2">
<li><a href="#understanding-gitops-principles">Understanding GitOps Principles</a></li>
<li><a href="#creating-your-gitops-repository">Creating Your GitOps Repository</a></li>
<li><a href="#preparing-ssh-deployment-keys">Preparing SSH Deployment Keys</a></li>
<li><a href="#adding-deployment-key-to-github">Adding Deployment Key to GitHub</a></li>
<li><a href="#configuring-ssh-key-path">Configuring SSH Key Path</a></li>
<li><a href="#initializing-and-pushing-the-gitops-repository">Initializing and Pushing the GitOps Repository</a></li>
</ul>
</li>
<li><a href="#running-bootstrap-scripts-on-aws-cloudshell">Running Bootstrap Scripts on AWS CloudShell</a>
<ul class="sectlevel2">
<li><a href="#uploading-bootstrap-scripts">Uploading Bootstrap Scripts</a></li>
<li><a href="#extracting-bootstrap-scripts">Extracting Bootstrap Scripts</a></li>
<li><a href="#creating-a-new-eks-cluster-optional">Creating a New EKS Cluster (Optional)</a></li>
<li><a href="#executing-the-bootstrap-script">Executing the Bootstrap Script</a></li>
</ul>
</li>
<li><a href="#verifying-installation">Verifying Installation</a>
<ul class="sectlevel2">
<li><a href="#post-installation-checks">Post-Installation Checks</a></li>
<li><a href="#accessing-service-foundry-endpoints">Accessing Service Foundry Endpoints</a></li>
<li><a href="#dns-configuration-verification">DNS Configuration Verification</a></li>
<li><a href="#component-health-checks">Component Health Checks</a></li>
<li><a href="#next-steps">Next Steps</a></li>
</ul>
</li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="imageblock img-wide">
<div class="content">
<img src="./images/service-foundry-intro.png" alt="Service Foundry Introduction">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="overview">Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This comprehensive installation guide walks you through deploying Service Foundry Community Edition on Amazon Web Services (AWS). The Community Edition is a self-hosted platform engineering solution that empowers development teams to manage their cloud infrastructure and deployments efficiently using GitOps principles and best practices.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Service Foundry Community Edition is a self-hosted solution where you provide and manage your own infrastructure. Service Foundry will also offer an Enterprise Edition as a fully managed service in the near future, eliminating the need for infrastructure management.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="prerequisites">Prerequisites</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Before beginning the installation process, ensure you have the following prerequisites in place:</p>
</div>
<div class="sect2">
<h3 id="required-accounts-and-access">Required Accounts and Access</h3>
<div class="sect3">
<h4 id="aws-account">AWS Account</h4>
<div class="paragraph">
<p>The Community Edition is a self-hosted solution that runs on your own Kubernetes infrastructure. You will need:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>An active AWS account with administrative access</p>
</li>
<li>
<p>Permissions to create and manage EKS (Elastic Kubernetes Service) clusters</p>
</li>
<li>
<p>Access to AWS Certificate Manager (ACM) for SSL/TLS certificates (recommended for production)</p>
</li>
<li>
<p>Route 53 access for DNS management (if using custom domains)</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="github-account">GitHub Account</h4>
<div class="paragraph">
<p>A GitHub account is required for:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Hosting your GitOps repository, which serves as the single source of truth for all cluster configurations</p>
</li>
<li>
<p>Storing deployment manifests and application definitions</p>
</li>
<li>
<p>Version controlling your infrastructure as code</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="technical-knowledge">Technical Knowledge</h3>
<div class="paragraph">
<p>This installation guide assumes familiarity with:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Kubernetes concepts and kubectl commands</p>
</li>
<li>
<p>Git version control and basic repository management</p>
</li>
<li>
<p>AWS services, particularly EKS</p>
</li>
<li>
<p>Command-line interface (CLI) operations</p>
</li>
<li>
<p>Basic understanding of GitOps principles</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="getting-started">Getting Started</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="accessing-the-community-portal">Accessing the Community Portal</h3>
<div class="paragraph">
<p>Service Foundry Community Edition is available free of charge with full feature access. To get started, visit:</p>
</div>
<div class="paragraph">
<p><a href="https://community.servicefoundry.org/" class="bare">https://community.servicefoundry.org/</a></p>
</div>
<div class="paragraph">
<p>This portal provides:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Community Edition license generation</p>
</li>
<li>
<p>Bootstrap script generation tools</p>
</li>
<li>
<p>Documentation and support resources</p>
</li>
<li>
<p>Community forums and updates</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="community-edition-license">Community Edition License</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="understanding-the-license-model">Understanding the License Model</h3>
<div class="paragraph">
<p>The Community Edition license enables you to use the self-hosted Service Foundry Community Edition with the following terms:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Duration</strong>: 365 days from the date of issuance</p>
</li>
<li>
<p><strong>Cost</strong>: Completely free with no payment required</p>
</li>
<li>
<p><strong>Features</strong>: Full access to all Service Foundry capabilities</p>
</li>
<li>
<p><strong>Node Limit</strong>: Supports up to 10 Kubernetes nodes</p>
</li>
<li>
<p><strong>Renewal</strong>: Simple renewal process through the community portal</p>
</li>
<li>
<p><strong>License Format</strong>: JSON Web Token (JWT) for secure validation</p>
</li>
</ul>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The license policy may evolve over time. Always check the community portal for the most current license terms and conditions.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="step-1-obtaining-your-community-edition-license">Step 1: Obtaining Your Community Edition License</h3>
<div class="paragraph">
<p>Follow these steps to generate your license:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the Service Foundry Community portal: <a href="https://community.servicefoundry.org/" class="bare">https://community.servicefoundry.org/</a></p>
</li>
<li>
<p>Click on the <strong>Community License</strong> page or access directly at: <a href="https://community.servicefoundry.org/community-license" class="bare">https://community.servicefoundry.org/community-license</a></p>
</li>
<li>
<p>Complete the registration form with accurate information</p>
</li>
<li>
<p>Generate and download your license file (<code>.txt</code> format)</p>
</li>
</ol>
</div>
<div class="imageblock img-wide">
<div class="content">
<img src="./images/community-edition-license.png" alt="Community Edition License Download Page">
</div>
</div>
<div class="sect3">
<h4 id="license-form-fields">License Form Fields</h4>
<div class="paragraph">
<p>When completing the license request form, provide the following information:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Customer Email Address</strong> (Required): Your valid email address for license delivery and notifications</p>
</li>
<li>
<p><strong>Installation ID</strong> (Required): Your Kubernetes cluster name (e.g., <code>my-sf-cluster</code>)</p>
</li>
<li>
<p><strong>Edition</strong>: Pre-filled as <code>community</code> (non-editable)</p>
</li>
<li>
<p><strong>NBF</strong> (Not Before): Automatically set to today&#8217;s date (non-editable)</p>
</li>
<li>
<p><strong>EXP</strong> (Expiration): Automatically set to 365 days from today (non-editable)</p>
</li>
<li>
<p><strong>Max Nodes</strong>: Fixed at 10 nodes (non-editable)</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="generating-and-saving-your-license">Generating and Saving Your License</h4>
<div class="paragraph">
<p>After completing the form:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Click the <strong>Generate License</strong> button</p>
</li>
<li>
<p>Your license will appear in the <strong>License (JWT)</strong> field as a long encoded string</p>
</li>
<li>
<p>Use one of these methods to save your license:</p>
<div class="ulist">
<ul>
<li>
<p>Click <strong>Copy License</strong> to copy the JWT to your clipboard for immediate use</p>
</li>
<li>
<p>Click <strong>Save License</strong> to download the license as a file for later reference</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="imageblock img-wide">
<div class="content">
<img src="./images/community-edition-license-generated.png" alt="Community Edition License Generated">
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Store your license file securely. You&#8217;ll need this JWT token during the bootstrap process. Consider saving it in a password manager or secure documentation system.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="bootstrap-scripts-generation">Bootstrap Scripts Generation</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="understanding-the-bootstrap-process">Understanding the Bootstrap Process</h3>
<div class="paragraph">
<p>Service Foundry provides an automated bootstrap solution that streamlines the installation process. The bootstrap script performs the following operations:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Installs ArgoCD as your GitOps continuous delivery engine</p>
</li>
<li>
<p>Configures your GitOps repository as the source of truth</p>
</li>
<li>
<p>Deploys all core platform components</p>
</li>
<li>
<p>Sets up networking and ingress configurations</p>
</li>
<li>
<p>Configures authentication and security components</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="core-components-included">Core Components Included</h3>
<div class="paragraph">
<p>The bootstrap process deploys a comprehensive platform engineering stack:</p>
</div>
<div class="sect3">
<h4 id="gitops-and-deployment-tools">GitOps and Deployment Tools</h4>
<div class="ulist">
<ul>
<li>
<p><strong>ArgoCD</strong>: GitOps continuous delivery tool that synchronizes your cluster state with Git repository definitions</p>
</li>
<li>
<p><strong>Argo Rollouts</strong>: Advanced deployment controller supporting blue-green and canary deployment strategies</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="networking-and-ingress">Networking and Ingress</h4>
<div class="ulist">
<ul>
<li>
<p><strong>Traefik</strong>: Modern HTTP reverse proxy and load balancer for routing external traffic to your services</p>
</li>
<li>
<p><strong>Cert-manager</strong>: Automates the management and issuance of TLS certificates</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="authentication-and-security">Authentication and Security</h4>
<div class="ulist">
<ul>
<li>
<p><strong>Keycloak</strong>: Open-source identity and access management solution providing SSO capabilities</p>
</li>
<li>
<p><strong>OAuth2 Proxy</strong>: Authentication proxy that integrates with Keycloak for securing applications</p>
</li>
<li>
<p><strong>Sealed Secrets</strong>: Encrypts Kubernetes secrets for safe storage in Git repositories</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="data-storage">Data Storage</h4>
<div class="ulist">
<ul>
<li>
<p><strong>PostgreSQL</strong>: Relational database for Service Foundry Community Edition metadata and application data</p>
</li>
<li>
<p><strong>Redis</strong>: In-memory data store for caching and session management</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="service-foundry-components">Service Foundry Components</h4>
<div class="ulist">
<ul>
<li>
<p><strong>Service Foundry Builder</strong>: Component for building and managing application deployments</p>
</li>
<li>
<p><strong>Service Foundry Console Backend</strong>: API server providing backend functionality</p>
</li>
<li>
<p><strong>Service Foundry Console Frontend</strong>: Web-based user interface for platform management</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="http-routes-for-external-access">HTTP Routes for External Access</h4>
<div class="ulist">
<ul>
<li>
<p><strong>ArgoCD HTTPRoute</strong>: Secured with ArgoCD native authentication (username/password)</p>
</li>
<li>
<p><strong>Argo Rollouts HTTPRoute</strong>: Integrated with Service Foundry SSO via Keycloak</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="https-and-tls-certificates">HTTPS and TLS Certificates</h3>
<div class="sect3">
<h4 id="security-considerations">Security Considerations</h4>
<div class="paragraph">
<p>While Service Foundry can operate without HTTPS, using TLS certificates is strongly recommended for:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Production environments</strong>: Protecting sensitive data in transit</p>
</li>
<li>
<p><strong>Compliance requirements</strong>: Meeting security and regulatory standards</p>
</li>
<li>
<p><strong>User trust</strong>: Providing secure browser connections</p>
</li>
<li>
<p><strong>API security</strong>: Ensuring encrypted communication between components</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="aws-certificate-manager-integration">AWS Certificate Manager Integration</h4>
<div class="paragraph">
<p>This guide demonstrates using AWS Certificate Manager (ACM) for TLS certificate management:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Automated validation</strong>: ACM handles certificate validation through DNS</p>
</li>
<li>
<p><strong>Automatic renewal</strong>: Certificates are renewed automatically before expiration</p>
</li>
<li>
<p><strong>AWS integration</strong>: Seamless integration with AWS Load Balancer Controller</p>
</li>
<li>
<p><strong>Cost-effective</strong>: No additional charge for certificates used with AWS services</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You will also use Route 53 to create DNS records that route traffic to your Service Foundry endpoints.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="generating-bootstrap-scripts">Generating Bootstrap Scripts</h3>
<div class="sect3">
<h4 id="access-the-bootstrap-generator">Access the Bootstrap Generator</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Visit the Service Foundry Community portal: <a href="https://community.servicefoundry.org/" class="bare">https://community.servicefoundry.org/</a></p>
</li>
<li>
<p>Navigate to the <strong>Bootstrap</strong> page or go directly to: <a href="https://community.servicefoundry.org/bootstrap-scripts" class="bare">https://community.servicefoundry.org/bootstrap-scripts</a></p>
</li>
<li>
<p>Complete the bootstrap configuration form with your specific requirements</p>
</li>
<li>
<p>Click <strong>Generate Bootstrap Scripts</strong> to create your customized installation package</p>
</li>
</ol>
</div>
<div class="imageblock img-wide">
<div class="content">
<img src="./images/service-foundry-bootstrap.png" alt="Service Foundry Bootstrap">
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="managing-secure-properties">Managing Secure Properties</h3>
<div class="sect3">
<h4 id="security-best-practices">Security Best Practices</h4>
<div class="paragraph">
<p>The bootstrap script supports environment variable overrides for all configuration properties. This approach enhances security by:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Separating secrets from code</strong>: Keeping sensitive data out of version control</p>
</li>
<li>
<p><strong>Environment-specific values</strong>: Using different credentials per environment</p>
</li>
<li>
<p><strong>Reduced exposure</strong>: Minimizing the risk of credential leakage</p>
</li>
<li>
<p><strong>Compliance</strong>: Meeting security audit requirements</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="implementation-strategy">Implementation Strategy</h4>
<div class="paragraph">
<p>For secure property management:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Leave sensitive fields empty in the bootstrap configuration form</p>
</li>
<li>
<p>Define environment variables before running the bootstrap script</p>
</li>
<li>
<p>The script will automatically use environment variable values when available</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Example</strong>: To override the PostgreSQL password:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nb">export </span><span class="nv">SF_POSTGRES_PASSWORD</span><span class="o">=</span><span class="s2">"your-secure-password"</span></code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Never commit credentials directly in configuration files. Always use environment variables or secret management solutions for production deployments.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="bootstrap-configuration-properties">Bootstrap Configuration Properties</h3>
<div class="sect3">
<h4 id="component-versions">Component Versions</h4>
<div class="paragraph">
<p>Control which versions of Service Foundry components to install:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Service Foundry Console Helm Version</strong>: Leave at the default value for the latest stable release</p>
</li>
<li>
<p><strong>Service Foundry Console Application Version</strong>: Keep empty to automatically use the most recent version, or specify a version for reproducible deployments</p>
</li>
<li>
<p><strong>Service Foundry Builder Helm Version</strong>: Use the default version unless you have specific version requirements</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Using default versions ensures you receive the latest features and security updates. Specify versions explicitly only when you need version pinning for stability or compatibility reasons.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="cloud-provider-configuration">Cloud Provider Configuration</h4>
<div class="paragraph">
<p>Currently, Service Foundry supports AWS exclusively. Future releases may include additional cloud provider support.</p>
</div>
<div class="paragraph">
<p><strong>Required Configuration:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Cloud Provider</strong>: AWS (pre-selected)</p>
</li>
<li>
<p><strong>AWS Account ID</strong>: Leave empty to use environment variable <code>AWS_ACCOUNT_ID</code>, or enter explicitly</p>
</li>
<li>
<p><strong>AWS Region</strong>: Leave empty to use environment variable <code>AWS_REGION</code> (e.g., <code>us-east-1</code>), or specify your preferred region</p>
</li>
<li>
<p><strong>Kubernetes Cluster Name</strong>: Enter your EKS cluster name or use environment variable <code>EKS_CLUSTER_NAME</code></p>
</li>
</ul>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Using environment variables for AWS credentials and region provides flexibility when working across multiple environments or automating deployments.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="core-configuration">Core Configuration</h4>
<div class="paragraph">
<p>These settings define fundamental aspects of your Service Foundry installation:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Service Foundry Namespace</strong>: The Kubernetes namespace for platform components (default: <code>service-foundry</code>)</p>
</li>
<li>
<p><strong>GitOps Repo URL</strong>: SSH or HTTPS URL of your GitOps repository (mandatory) - this will be your single source of truth</p>
</li>
<li>
<p><strong>GitOps User Email</strong>: Email address for Git commits made by Service Foundry (optional, but recommended for audit trails)</p>
</li>
<li>
<p><strong>GitOps User Name</strong>: Name for Git commits (optional, defaults to "service-foundry")</p>
</li>
<li>
<p><strong>Root Domain</strong>: Your base domain for all Service Foundry endpoints (mandatory, e.g., <code>example.com</code> or <code>servicefoundry.org</code>)</p>
</li>
<li>
<p><strong>Log Level</strong>: Logging verbosity (default: <code>INFO</code>, options: <code>DEBUG</code>, <code>INFO</code>, <code>WARN</code>, <code>ERROR</code>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Example Configuration:</strong></p>
</div>
<div class="paragraph">
<p>For this guide, we&#8217;ll use:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>GitOps Repo URL</strong>: <code>git@github.com:nsalexamy/gitops-demo.git</code></p>
</li>
<li>
<p><strong>Root Domain</strong>: <code>servicefoundry.org</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>All Service Foundry services will be accessible as subdomains of your root domain:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>console.servicefoundry.org</code></p>
</li>
<li>
<p><code>argocd.servicefoundry.org</code></p>
</li>
<li>
<p><code>keycloak.servicefoundry.org</code></p>
</li>
</ul>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Ensure you have configured an ACM certificate that covers your root domain and all required subdomains, either using a wildcard certificate (<code>*.servicefoundry.org</code>) or individual certificates for each subdomain.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="load-balancer-and-tls-configuration">Load Balancer and TLS Configuration</h4>
<div class="paragraph">
<p>Configure Traefik ingress controller and TLS settings:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Use TLS</strong> (env: <code>TRAEFIK_USE_TLS</code>): Enable TLS encryption (recommended: <code>true</code>)</p>
</li>
<li>
<p><strong>Use AWS ACM</strong> (env: <code>TRAEFIK_USE_AWS_ACM</code>): Use AWS Certificate Manager for certificate management (recommended: <code>true</code>)</p>
</li>
<li>
<p><strong>ACM Certificate ARN</strong>: The Amazon Resource Name (ARN) of your ACM certificate (mandatory when AWS ACM is enabled)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Configuration Steps:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Set <strong>Use TLS</strong> to <code>true</code></p>
</li>
<li>
<p>Set <strong>Use AWS ACM</strong> to <code>true</code></p>
</li>
<li>
<p>Paste your ACM certificate ARN in the <strong>ACM Certificate ARN</strong> field</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The ARN format looks like: <code>arn:aws:acm:us-east-1:123456789012:certificate/12345678-1234-1234-1234-123456789012</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>You can find your certificate ARN in the AWS Certificate Manager console. Ensure the certificate is in the same region as your EKS cluster and covers all required domains.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="credentials-configuration">Credentials Configuration</h4>
<div class="paragraph">
<p>Define authentication credentials for platform components:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>PostgreSQL Username</strong>: Database admin username (default: <code>admin</code>)</p>
</li>
<li>
<p><strong>PostgreSQL Password</strong>: Secure password for PostgreSQL (use environment variable <code>SF_POSTGRES_PASSWORD</code>)</p>
</li>
<li>
<p><strong>Redis Password</strong>: Secure password for Redis (use environment variable <code>SF_REDIS_PASSWORD</code>)</p>
</li>
<li>
<p><strong>Service Foundry Admin Console Username</strong>: Initial admin username (default: <code>admin</code>)</p>
</li>
<li>
<p><strong>Service Foundry Admin Console Password</strong>: Initial admin password (use environment variable <code>SF_ADMIN_PASSWORD</code>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Security Recommendation:</strong></p>
</div>
<div class="paragraph">
<p>Leave credential fields empty in the form and set them via environment variables:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nb">export </span><span class="nv">SF_POSTGRES_PASSWORD</span><span class="o">=</span><span class="s2">"your-secure-postgres-password"</span>
<span class="nb">export </span><span class="nv">SF_REDIS_PASSWORD</span><span class="o">=</span><span class="s2">"your-secure-redis-password"</span>
<span class="nb">export </span><span class="nv">SF_ADMIN_PASSWORD</span><span class="o">=</span><span class="s2">"your-secure-admin-password"</span></code></pre>
</div>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Use strong, randomly generated passwords for all credentials. Avoid using default or simple passwords in any environment. Consider using a password manager to generate and store these credentials securely.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="license-configuration">License Configuration</h4>
<div class="ulist">
<ul>
<li>
<p><strong>License Payload</strong>: Paste your complete Community Edition license JWT obtained from the previous step (mandatory)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This license validates your Service Foundry installation and enables all Community Edition features.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="downloading-bootstrap-scripts">Downloading Bootstrap Scripts</h3>
<div class="paragraph">
<p>After completing all configuration fields:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Review your settings for accuracy</p>
</li>
<li>
<p>Click the <strong>Download Bootstrap Scripts</strong> button</p>
</li>
<li>
<p>A ZIP file containing your customized bootstrap scripts will be downloaded</p>
</li>
<li>
<p>Extract the ZIP file to access the installation scripts</p>
</li>
</ol>
</div>
<div class="imageblock img-wide">
<div class="content">
<img src="./images/service-foundry-bootstrap-zip.png" alt="Service Foundry Bootstrap Scripts - Zip File">
</div>
</div>
<div class="paragraph">
<p>The downloaded package includes:
- Main bootstrap script (<code>bootstrap.sh</code>)
- AWS-specific scripts for EKS cluster creation
- Configuration files pre-filled with your inputs
- Helper scripts for common tasks</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="aws-cloudshell-setup">AWS CloudShell Setup</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="why-use-aws-cloudshell">Why Use AWS CloudShell?</h3>
<div class="paragraph">
<p>AWS CloudShell provides an ideal environment for running Service Foundry bootstrap scripts because it offers:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Pre-configured AWS credentials</strong>: Automatic authentication with your AWS account</p>
</li>
<li>
<p><strong>Pre-installed tools</strong>: AWS CLI, kubectl, and other essential tools</p>
</li>
<li>
<p><strong>Persistent storage</strong>: 1GB of home directory storage that persists across sessions</p>
</li>
<li>
<p><strong>Browser-based access</strong>: No need to configure local development environment</p>
</li>
<li>
<p><strong>Security</strong>: Runs within AWS network with appropriate IAM permissions</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="learning-resources">Learning Resources</h3>
<div class="paragraph">
<p>For detailed guidance on using AWS CloudShell effectively, refer to these resources:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://youtu.be/9qyVR5EEIes">Deploy Kubernetes Workloads with AWS Cloud Shell + Helm</a> - Video tutorial demonstrating Kubernetes deployments</p>
</li>
<li>
<p><a href="https://nsalexamy.github.io/service-foundry/pages/documents/blog/aws-cloud-shell/persist-custom-software-installations.html#install-eksctl">AWS CloudShell - Persist Custom Software Installations</a> - Guide for installing and persisting additional tools</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="additional-tools-required">Additional Tools Required</h3>
<div class="paragraph">
<p>While AWS CloudShell comes with many tools pre-installed, the Service Foundry bootstrap process requires several additional command-line utilities. These tools must be installed and available in your PATH before running the bootstrap scripts.</p>
</div>
<div class="sect3">
<h4 id="required-tools">Required Tools</h4>
<div class="paragraph">
<p><strong>eksctl</strong>
The official CLI tool for creating and managing Amazon EKS clusters. This tool is essential for creating your Kubernetes cluster on AWS with best-practice configurations.</p>
</div>
<div class="paragraph">
<p><strong>yq</strong>
A lightweight and portable command-line YAML processor. The bootstrap scripts use <code>yq</code> to parse and update YAML configuration files during the installation process.</p>
</div>
<div class="paragraph">
<p><strong>Helm</strong>
The package manager for Kubernetes. Helm is used to install and manage all Service Foundry components and their dependencies.</p>
</div>
</div>
<div class="sect3">
<h4 id="installing-required-tools">Installing Required Tools</h4>
<div class="paragraph">
<p>You can install these tools in AWS CloudShell using the persistent installation method described in the learning resources above. For detailed step-by-step installation instructions, refer to:</p>
</div>
<div class="paragraph">
<p><a href="https://nsalexamy.github.io/service-foundry/pages/documents/blog/aws-cloud-shell/persist-custom-software-installations.html">AWS CloudShell - Persist Custom Software Installations</a></p>
</div>
<div class="paragraph">
<p>This guide demonstrates how to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Install <code>eksctl</code> and make it persist across CloudShell sessions</p>
</li>
<li>
<p>Install <code>yq</code> for YAML processing</p>
</li>
<li>
<p>Configure Helm in your CloudShell environment</p>
</li>
</ul>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The installations need to be configured to persist across AWS CloudShell sessions. The referenced guide shows you how to use the <code>$HOME</code> directory to ensure tools remain available after your CloudShell session expires.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="preparing-your-cloudshell-environment">Preparing Your CloudShell Environment</h3>
<div class="paragraph">
<p>The default AWS CloudShell home directory is <code>/home/cloudshell-user</code>. For organizational purposes, create a dedicated directory for Service Foundry:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># Create a dedicated directory for Service Foundry installation files</span>
<span class="nv">$ </span><span class="nb">mkdir</span> <span class="nt">-p</span> <span class="nv">$HOME</span>/service-foundry

<span class="c"># Navigate to the new directory</span>
<span class="nv">$ </span><span class="nb">cd</span> <span class="nv">$HOME</span>/service-foundry</code></pre>
</div>
</div>
<div class="paragraph">
<p>This directory structure keeps your Service Foundry installation organized and separate from other CloudShell activities.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="gitops-repository-setup">GitOps Repository Setup</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="understanding-gitops-principles">Understanding GitOps Principles</h3>
<div class="paragraph">
<p>GitOps is a modern approach to infrastructure and application management where:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Git as single source of truth</strong>: All configuration is version-controlled in Git</p>
</li>
<li>
<p><strong>Declarative infrastructure</strong>: Desired state is declared in Git repositories</p>
</li>
<li>
<p><strong>Automated synchronization</strong>: Changes in Git trigger automatic cluster updates</p>
</li>
<li>
<p><strong>Audit trail</strong>: Complete history of all infrastructure changes</p>
</li>
<li>
<p><strong>Rollback capability</strong>: Easy recovery by reverting Git commits</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Service Foundry uses ArgoCD to implement GitOps, continuously synchronizing your cluster state with your Git repository.</p>
</div>
</div>
<div class="sect2">
<h3 id="creating-your-gitops-repository">Creating Your GitOps Repository</h3>
<div class="paragraph">
<p>For this guide, we&#8217;ll create a private GitHub repository named <code>gitops-demo</code>:</p>
</div>
<div class="paragraph">
<p><strong>Repository Details:</strong>
- <strong>Repository name</strong>: <code>gitops-demo</code>
- <strong>Visibility</strong>: Private (recommended for security)
- <strong>Repository URL</strong>: <code><a href="https://github.com/your-username/gitops-demo.git" class="bare">https://github.com/your-username/gitops-demo.git</a></code></p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Replace <code>your-username</code> with your actual GitHub username throughout this guide.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="preparing-ssh-deployment-keys">Preparing SSH Deployment Keys</h3>
<div class="sect3">
<h4 id="why-use-deployment-keys">Why Use Deployment Keys?</h4>
<div class="paragraph">
<p>Deployment keys provide secure, repository-specific access with these advantages:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Scoped access</strong>: Limit access to a single repository</p>
</li>
<li>
<p><strong>No password</strong>: Use key-based authentication</p>
</li>
<li>
<p><strong>Read/write control</strong>: Grant write access only when needed</p>
</li>
<li>
<p><strong>Revocable</strong>: Easy to remove access without affecting other repositories</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="generating-ssh-key-pair">Generating SSH Key Pair</h4>
<div class="paragraph">
<p>Execute the following commands in AWS CloudShell or your local Linux/Mac terminal:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># Navigate to the Service Foundry directory</span>
<span class="nv">$ </span><span class="nb">cd</span> <span class="nv">$HOME</span>/service-foundry

<span class="c"># Create a directory for SSH keys</span>
<span class="nv">$ </span><span class="nb">mkdir</span> <span class="nt">-p</span> gitops-demo-ssh

<span class="c"># Generate a 4096-bit RSA key pair</span>
<span class="c"># -t rsa: Use RSA algorithm</span>
<span class="c"># -b 4096: 4096-bit key length for enhanced security</span>
<span class="c"># -C: Comment to identify the key</span>
<span class="c"># -f: Output file path</span>
<span class="nv">$ </span>ssh-keygen <span class="nt">-t</span> rsa <span class="nt">-b</span> 4096 <span class="nt">-C</span> <span class="s2">"devops@example.com"</span> <span class="nt">-f</span> ./gitops-demo-ssh/id_rsa

<span class="c"># Display the public key (you'll add this to GitHub)</span>
<span class="nv">$ </span><span class="nb">cat</span> ./gitops-demo-ssh/id_rsa.pub</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The private key (<code>id_rsa</code>) must be kept secure and never committed to version control. The public key (<code>id_rsa.pub</code>) will be added to GitHub.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="adding-deployment-key-to-github">Adding Deployment Key to GitHub</h3>
<div class="sect3">
<h4 id="configuration-steps">Configuration Steps</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Copy the entire contents of the public key displayed by the <code>cat</code> command</p>
</li>
<li>
<p>Navigate to your repository&#8217;s deployment key settings: <code><a href="https://github.com/your-username/gitops-demo/settings/keys/new" class="bare">https://github.com/your-username/gitops-demo/settings/keys/new</a></code></p>
</li>
<li>
<p>Complete the form:</p>
<div class="ulist">
<ul>
<li>
<p><strong>Title</strong>: <code>gitops-demo-ssh</code> (or any descriptive name)</p>
</li>
<li>
<p><strong>Key</strong>: Paste the complete public key content</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Important</strong>: Check the <strong>Allow write access</strong> checkbox</p>
<div class="ulist">
<ul>
<li>
<p>This enables Service Foundry to commit configuration changes back to the repository</p>
</li>
</ul>
</div>
</li>
<li>
<p>Click the <strong>Add key</strong> button to save</p>
</li>
</ol>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Ensure write access is enabled. Service Foundry requires write permission to commit generated configurations and application manifests to your GitOps repository.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configuring-ssh-key-path">Configuring SSH Key Path</h3>
<div class="paragraph">
<p>Set an environment variable pointing to your private key:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># Set the SSH key path for GitOps operations</span>
<span class="nv">$ </span><span class="nb">export </span><span class="nv">GIT_OPS_REPO_SSH_KEY_PATH</span><span class="o">=</span><span class="nv">$HOME</span>/service-foundry/gitops-demo-ssh/id_rsa</code></pre>
</div>
</div>
<div class="paragraph">
<p>This environment variable will be used by the bootstrap script to authenticate with your GitOps repository.</p>
</div>
</div>
<div class="sect2">
<h3 id="initializing-and-pushing-the-gitops-repository">Initializing and Pushing the GitOps Repository</h3>
<div class="sect3">
<h4 id="configuring-git-identity">Configuring Git Identity</h4>
<div class="paragraph">
<p>If you haven&#8217;t configured Git user information in your environment, set it now:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># Configure Git user name if not already set</span>
<span class="c"># The || operator ensures this only runs if no user name is configured</span>
<span class="nv">$ </span>git config user.name <span class="o">||</span> git config user.name <span class="s2">"service-foundry"</span>

<span class="c"># Configure Git user email if not already set</span>
<span class="nv">$ </span>git config user.email <span class="o">||</span> git config user.email <span class="s2">"devops@example.com"</span></code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Replace <code>devops@example.com</code> with your actual email address to maintain accurate commit attribution.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="repository-initialization">Repository Initialization</h4>
<div class="paragraph">
<p>Create and initialize your local GitOps repository:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># Navigate to Service Foundry directory</span>
<span class="nv">$ </span><span class="nb">cd</span> <span class="nv">$HOME</span>/service-foundry

<span class="c"># Create the GitOps repository directory</span>
<span class="nv">$ </span><span class="nb">mkdir</span> <span class="nt">-p</span> gitops-demo
<span class="nv">$ </span><span class="nb">cd </span>gitops-demo

<span class="c"># Configure SSH to use the deployment key</span>
<span class="c"># -i: Specifies the identity file (private key)</span>
<span class="c"># -o IdentitiesOnly=yes: Use only the specified key</span>
<span class="c"># -F /dev/null: Ignore user SSH config file</span>
<span class="nv">$ </span><span class="nb">export </span><span class="nv">GIT_SSH_COMMAND</span><span class="o">=</span><span class="s2">"ssh -i </span><span class="nv">$GIT_OPS_REPO_SSH_KEY_PATH</span><span class="s2"> -o IdentitiesOnly=yes -F /dev/null"</span>

<span class="c"># Initialize a new Git repository</span>
<span class="nv">$ </span>git init

<span class="c"># Rename the default branch to 'main'</span>
<span class="nv">$ </span>git branch <span class="nt">-M</span> main

<span class="c"># Add your GitHub repository as the remote origin</span>
<span class="nv">$ </span>git remote add origin git@github.com:your-username/gitops-demo.git

<span class="c"># Create a .gitignore file to exclude macOS metadata files</span>
<span class="nv">$ </span><span class="nb">echo</span> <span class="s2">".DS_Store"</span> <span class="o">&gt;&gt;</span> .gitignore

<span class="c"># Stage all files for commit</span>
<span class="nv">$ </span>git add <span class="nb">.</span>

<span class="c"># Create the initial commit</span>
<span class="nv">$ </span>git commit <span class="nt">-m</span> <span class="s2">"Initial commit"</span>

<span class="c"># Push to GitHub and set upstream tracking</span>
<span class="nv">$ </span>git push <span class="nt">-u</span> origin main</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The <code>GIT_SSH_COMMAND</code> configuration ensures Git uses your deployment key instead of your default SSH key, providing repository-specific authentication.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>After successful execution, your GitOps repository is initialized and ready to receive Service Foundry configurations during the bootstrap process.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="running-bootstrap-scripts-on-aws-cloudshell">Running Bootstrap Scripts on AWS CloudShell</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="uploading-bootstrap-scripts">Uploading Bootstrap Scripts</h3>
<div class="paragraph">
<p>Transfer the downloaded bootstrap scripts to AWS CloudShell:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In AWS CloudShell, click the <strong>Actions</strong> menu in the top-right corner</p>
</li>
<li>
<p>Select <strong>Upload File</strong></p>
</li>
<li>
<p>Choose your downloaded <code>bootstrap-scripts.zip</code> file</p>
</li>
<li>
<p>Wait for the upload to complete</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The uploaded file will appear in your CloudShell home directory (<code>/home/cloudshell-user</code>).</p>
</div>
</div>
<div class="sect2">
<h3 id="extracting-bootstrap-scripts">Extracting Bootstrap Scripts</h3>
<div class="paragraph">
<p>Move and extract the bootstrap scripts to your Service Foundry directory:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># Move the ZIP file to the Service Foundry directory</span>
<span class="nv">$ </span><span class="nb">mv</span> <span class="nv">$HOME</span>/bootstrap-scripts.zip <span class="nv">$HOME</span>/service-foundry/

<span class="c"># Navigate to the directory</span>
<span class="nv">$ </span><span class="nb">cd</span> <span class="nv">$HOME</span>/service-foundry

<span class="c"># Extract the ZIP file contents</span>
<span class="nv">$ </span>unzip bootstrap-scripts.zip</code></pre>
</div>
</div>
<div class="paragraph">
<p>This creates a directory structure containing:
- <code>bootstrap.sh</code>: Main installation script
- <code>aws/</code>: AWS-specific utilities including EKS cluster creation
- Configuration files with your pre-filled settings</p>
</div>
</div>
<div class="sect2">
<h3 id="creating-a-new-eks-cluster-optional">Creating a New EKS Cluster (Optional)</h3>
<div class="sect3">
<h4 id="when-to-create-a-new-cluster">When to Create a New Cluster</h4>
<div class="paragraph">
<p>Skip this section if:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>You already have an EKS cluster ready for Service Foundry</p>
</li>
<li>
<p>You&#8217;re installing on an existing development or testing cluster</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Proceed with cluster creation if:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>This is a fresh Service Foundry installation</p>
</li>
<li>
<p>You want a dedicated cluster for platform engineering</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="understanding-the-eks-creation-script">Understanding the EKS Creation Script</h4>
<div class="paragraph">
<p>The included <code>create-eks.sh</code> script automates EKS cluster provisioning with:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Cluster autoscaler</strong>: Automatically adjusts node count based on workload demands</p>
</li>
<li>
<p><strong>EBS CSI driver</strong>: Enables persistent volume provisioning using Amazon EBS</p>
</li>
<li>
<p><strong>Priority classes</strong>: Configures pod priority for critical system components</p>
</li>
<li>
<p><strong>Best practices</strong>: Implements AWS-recommended EKS configurations</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="cluster-creation-steps">Cluster Creation Steps</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># Retrieve your AWS account ID automatically</span>
<span class="nv">$ </span><span class="nb">export </span><span class="nv">AWS_ACCOUNT_ID</span><span class="o">=</span><span class="si">$(</span>aws sts get-caller-identity <span class="nt">--query</span> Account <span class="nt">--output</span> text<span class="si">)</span>

<span class="c"># Set your desired cluster name</span>
<span class="nv">$ </span><span class="nb">export </span><span class="nv">EKS_CLUSTER_NAME</span><span class="o">=</span>nsa2-sf

<span class="c"># Navigate to the AWS scripts directory</span>
<span class="nv">$ </span><span class="nb">cd</span> <span class="nv">$HOME</span>/service-foundry/aws

<span class="c"># Make all scripts executable</span>
<span class="nv">$ </span><span class="nb">chmod</span> +x <span class="k">*</span>.sh

<span class="c"># Execute the EKS cluster creation script</span>
<span class="nv">$ </span>./create-eks.sh</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The AWS region is automatically detected from your CloudShell session. The cluster will be created in your CloudShell&#8217;s current region.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="expected-duration">Expected Duration</h4>
<div class="paragraph">
<p>EKS cluster creation typically takes 10-15 minutes. The script will:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create the EKS control plane</p>
</li>
<li>
<p>Provision managed node groups</p>
</li>
<li>
<p>Install cluster autoscaler</p>
</li>
<li>
<p>Configure EBS CSI driver</p>
</li>
<li>
<p>Set up priority classes</p>
</li>
<li>
<p>Configure kubectl context</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>You can monitor progress in the CloudShell output. Wait for the script to complete before proceeding.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="executing-the-bootstrap-script">Executing the Bootstrap Script</h3>
<div class="paragraph">
<p>After your EKS cluster is ready (either newly created or pre-existing), run the main bootstrap script:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># Navigate to the Service Foundry directory</span>
<span class="nv">$ </span><span class="nb">cd</span> <span class="nv">$HOME</span>/service-foundry

<span class="c"># Make the bootstrap script executable</span>
<span class="nv">$ </span><span class="nb">chmod</span> +x <span class="k">*</span>.sh

<span class="c"># Execute the bootstrap script</span>
<span class="nv">$ </span>./bootstrap.sh</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="what-happens-during-bootstrap">What Happens During Bootstrap</h4>
<div class="paragraph">
<p>The bootstrap script performs these operations in sequence:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Validates prerequisites</strong>: Checks for required tools and credentials</p>
</li>
<li>
<p><strong>Configures kubectl</strong>: Sets up cluster access</p>
</li>
<li>
<p><strong>Installs ArgoCD</strong>: Deploys the GitOps engine</p>
</li>
<li>
<p><strong>Creates namespaces</strong>: Sets up organizational boundaries</p>
</li>
<li>
<p><strong>Deploys core components</strong>: Installs all platform services</p>
</li>
<li>
<p><strong>Configures networking</strong>: Sets up ingress routes</p>
</li>
<li>
<p><strong>Applies secrets</strong>: Securely configures credentials</p>
</li>
<li>
<p><strong>Syncs with GitOps repo</strong>: Commits initial configurations to Git</p>
</li>
<li>
<p><strong>Waits for readiness</strong>: Ensures all components reach a healthy state</p>
</li>
</ol>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The bootstrap script provides detailed output. Monitor the logs to track progress and identify any issues that may require attention.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="troubleshooting">Troubleshooting</h4>
<div class="paragraph">
<p>If the bootstrap script encounters errors:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Review the error messages carefully</p>
</li>
<li>
<p>Check that all environment variables are set correctly</p>
</li>
<li>
<p>Verify your GitOps repository is accessible</p>
</li>
<li>
<p>Ensure your license is valid and correctly pasted</p>
</li>
<li>
<p>Confirm your EKS cluster has sufficient resources</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>You can safely re-run the bootstrap script after correcting issuesit&#8217;s designed to be idempotent.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="verifying-installation">Verifying Installation</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="post-installation-checks">Post-Installation Checks</h3>
<div class="paragraph">
<p>After the bootstrap script completes successfully, verify your Service Foundry installation by accessing the deployed components.</p>
</div>
</div>
<div class="sect2">
<h3 id="accessing-service-foundry-endpoints">Accessing Service Foundry Endpoints</h3>
<div class="paragraph">
<p>Based on your configured root domain, you can access these services:</p>
</div>
<div class="sect3">
<h4 id="service-foundry-console">Service Foundry Console</h4>
<div class="ulist">
<ul>
<li>
<p><strong>URL</strong>: <code><a href="https://console.your-root-domain" class="bare">https://console.your-root-domain</a></code></p>
</li>
<li>
<p><strong>Purpose</strong>: Main Service Foundry user interface for managing applications and deployments</p>
</li>
<li>
<p><strong>Authentication</strong>: Use the admin username and password configured during bootstrap</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="argocd">ArgoCD</h4>
<div class="ulist">
<ul>
<li>
<p><strong>URL</strong>: <code><a href="https://argocd.your-root-domain" class="bare">https://argocd.your-root-domain</a></code></p>
</li>
<li>
<p><strong>Purpose</strong>: GitOps continuous delivery dashboard</p>
</li>
<li>
<p><strong>Authentication</strong>: Use the ArgoCD admin credentials</p>
</li>
<li>
<p>Username: <code>admin</code></p>
</li>
<li>
<p>Password: Retrieved via: <code>kubectl -n argocd get secret argocd-initial-admin-secret -o jsonpath="{.data.password}" | base64 -d</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="argo-rollouts">Argo Rollouts</h4>
<div class="ulist">
<ul>
<li>
<p><strong>URL</strong>: <code><a href="https://argo-rollouts.your-root-domain" class="bare">https://argo-rollouts.your-root-domain</a></code></p>
</li>
<li>
<p><strong>Purpose</strong>: Progressive delivery dashboard for visualizing canary and blue-green deployments</p>
</li>
<li>
<p><strong>Authentication</strong>: Integrated with Service Foundry SSO (use your admin credentials)</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="keycloak">Keycloak</h4>
<div class="ulist">
<ul>
<li>
<p><strong>URL</strong>: <code><a href="https://keycloak.your-root-domain" class="bare">https://keycloak.your-root-domain</a></code></p>
</li>
<li>
<p><strong>Purpose</strong>: Identity and access management console</p>
</li>
<li>
<p><strong>Authentication</strong>: Admin credentials configured during bootstrap</p>
</li>
</ul>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Replace <code>your-root-domain</code> with your actual configured domain (e.g., <code>servicefoundry.org</code>). Ensure DNS records are properly configured to route traffic to your cluster&#8217;s load balancer.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="dns-configuration-verification">DNS Configuration Verification</h3>
<div class="paragraph">
<p>Verify that DNS records are resolving correctly:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># Check DNS resolution for each endpoint</span>
<span class="nv">$ </span>nslookup console.your-root-domain
<span class="nv">$ </span>nslookup argocd.your-root-domain
<span class="nv">$ </span>nslookup argo-rollouts.your-root-domain
<span class="nv">$ </span>nslookup keycloak.your-root-domain</code></pre>
</div>
</div>
<div class="paragraph">
<p>All domains should resolve to your AWS load balancer address.</p>
</div>
</div>
<div class="sect2">
<h3 id="component-health-checks">Component Health Checks</h3>
<div class="paragraph">
<p>Verify all components are running correctly:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># Check all pods in the service-foundry namespace</span>
<span class="nv">$ </span>kubectl get pods <span class="nt">-n</span> service-foundry

<span class="c"># Check ArgoCD components</span>
<span class="nv">$ </span>kubectl get pods <span class="nt">-n</span> argocd

<span class="c"># Verify all applications are synced in ArgoCD</span>
<span class="nv">$ </span>kubectl get applications <span class="nt">-n</span> argocd</code></pre>
</div>
</div>
<div class="paragraph">
<p>All pods should show <code>Running</code> status, and ArgoCD applications should show <code>Synced</code> and <code>Healthy</code> status.</p>
</div>
</div>
<div class="sect2">
<h3 id="next-steps">Next Steps</h3>
<div class="paragraph">
<p>After successful installation verification:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Access the Console</strong>: Log in to the Service Foundry console and explore the interface</p>
</li>
<li>
<p><strong>Review ArgoCD</strong>: Check that all applications are synchronized and healthy</p>
</li>
<li>
<p><strong>Configure Teams</strong>: Set up user access and team structures in Keycloak</p>
</li>
<li>
<p><strong>Deploy Applications</strong>: Start deploying your first applications using Service Foundry</p>
</li>
<li>
<p><strong>Explore Documentation</strong>: Review additional documentation for advanced features</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Congratulations! You have successfully installed Service Foundry Community Edition.</p>
</div>
</div>
</div>
</div>
        </div>
    </main>
</div>




<script>
    const toc = document.getElementById('toc');
    const container = document.getElementById('toc-container');
    if (toc && container) {
        container.appendChild(toc);
    }
</script>


<!--<button onclick="toggleTheme()" style="position: fixed; bottom: 1rem; right: 1rem; padding: 0.5rem 1rem; background-color: var(&#45;&#45;link); color: white; border: none; border-radius: 0.375rem; cursor: pointer;">-->
<!--    Toggle Theme-->
<!--</button>-->

<!--<script>-->
<!--    function toggleTheme() {-->
<!--        const html = document.documentElement;-->
<!--        const isDark = html.getAttribute("data-theme") === "dark";-->
<!--        html.setAttribute("data-theme", isDark ? "light" : "dark");-->
<!--        localStorage.setItem("theme", isDark ? "light" : "dark");-->
<!--    }-->

<!--    document.addEventListener("DOMContentLoaded", () => {-->
<!--        const savedTheme = localStorage.getItem("theme") || "light";-->
<!--        document.documentElement.setAttribute("data-theme", savedTheme);-->
<!--    });-->
<!--</script>-->

<!-- Footer -->
<footer class="bg-gray-900 text-white text-sm py-6 text-center">
     2025 Service Foundry. All rights reserved.
</footer>
</body>
</html>
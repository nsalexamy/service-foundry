<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Deploying PostgreSQL-Based Applications on Kubernetes with Service Foundry</title>
    <!-- rouge source highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/service-foundry/pages/assets/css/main.css">

    <!-- Highlight.js script -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <script>
        hljs.highlightAll();
    </script>
</head>
<body class="">

<!-- Header -->
<header>
<!--    <div class="logo text-xl font-semibold">Service Foundry</div>-->
    <a href="/service-foundry/pages/index.html" class="text-2xl font-semibold hover:text-teal-400">
    Service Foundry
</a>
    <nav>
    
        
        <a href="/service-foundry/pages/getting-started/" class="">Getting Started</a>
    
        
        <a href="/service-foundry/pages/products/" class="">Products</a>
    
        
        <a href="/service-foundry/pages/documents/" class="active">Docs</a>
    
        
        <a href="/service-foundry/pages/github/" class="">GitHub</a>
    
        
        <a href="/service-foundry/pages/developers/" class="">Developers</a>
    
        
        <a href="/service-foundry/pages/demo/" class="">Demo</a>
    
</nav>
</header>


    <!-- Sub-navigation for Foundries -->
    <div class="subnav">

    
    <a href="/service-foundry/pages/documents/service-foundry/" class="active">Service Foundry</a>

    
    <a href="/service-foundry/pages/documents/blog/" class="">Blog</a>

    
    <a href="/service-foundry/pages/documents/infra-foundry/" class="">Infra</a>

    
    <a href="/service-foundry/pages/documents/sso-foundry/" class="">SSO</a>

    
    <a href="/service-foundry/pages/documents/o11y-foundry/" class="">Observability</a>

    
    <a href="/service-foundry/pages/documents/backend-foundry/" class="">Backend</a>

    
    <a href="/service-foundry/pages/documents/bigdata-foundry/" class="">Big Data</a>

<!--    <a href="/service-foundry/pages/documents/infra-foundry/index-backup.html" class="text-gray-300 hover:text-white">Infra</a>-->
<!--    <a href="/service-foundry/pages/documents/sso-foundry/index-backup.html" class="text-gray-300 hover:text-white">SSO</a>-->
<!--    <a href="/service-foundry/pages/documents/o11y-foundry/index-backup.html" class="text-gray-300 hover:text-white">Observability</a>-->
<!--    <a href="/service-foundry/pages/documents/backend-foundry/index-backup.html" class="text-gray-300 hover:text-white">Backend</a>-->
<!--    <a href="/service-foundry/pages/documents/bigdata-foundry/index-backup.html" class="text-gray-300 hover:text-white">Big Data</a>-->
</div>





<!-- Breadcrumb -->

    <nav class="breadcrumb-wrapper">
    <ol class="breadcrumb">
        
        <li>
            
            <a href="/service-foundry/pages/">Home</a>
            
            
            <span class="separator">/</span>
            
        </li>
        
        <li>
            
            <a href="/service-foundry/pages/documents/">Docs</a>
            
            
            <span class="separator">/</span>
            
        </li>
        
        <li>
            
            <a href="/service-foundry/pages/documents/service-foundry/">Service Foundry</a>
            
            
        </li>
        
    </ol>
</nav>





<!-- Main Layout -->
<div class="container">


    <nav id="toc-container" class="toc-nav"></nav>


    <main id="main-content">
        
        <div class="author-box">
            Young Gyu Kim
            &lt;<a href="mailto:credemol@gmail.com" style="color: #0d9488; text-decoration: none;">credemol@gmail.com</a>&gt;
        </div>
        

        <!-- Title -->
        
        <h1 class="page-title">
            Deploying PostgreSQL-Based Applications on Kubernetes with Service Foundry
        </h1>
        

        <div class="asciidoc">
            <div id="toc" class="toc">
<div id="toctitle">On this page</div>
<ul class="sectlevel1">
<li><a href="#introduction">Introduction</a></li>
<li><a href="#deploying-postgresql-on-kubernetes">Deploying PostgreSQL on Kubernetes</a></li>
<li><a href="#deploying-pgadmin4-and-metabase-via-the-opensource-software-catalog">Deploying pgAdmin4 and Metabase via the OpenSource Software Catalog</a>
<ul class="sectlevel2">
<li><a href="#deploy-pgadmin4">Deploy pgAdmin4</a></li>
<li><a href="#deploying-metabase">Deploying Metabase</a></li>
</ul>
</li>
<li><a href="#deploying-spring-boot-application-using-enterprise-applications">Deploying Spring Boot Application Using Enterprise Applications</a>
<ul class="sectlevel2">
<li><a href="#deploy-a-sample-spring-boot-application">Deploy a Sample Spring Boot Application</a></li>
<li><a href="#configure-the-spring-boot-application">Configure the Spring Boot Application</a></li>
<li><a href="#summary-deploying-a-spring-boot-application-with-postgresql-on-service-foundry-console">Summary: Deploying a Spring Boot Application with PostgreSQL on Service Foundry Console</a></li>
</ul>
</li>
<li><a href="#conclusion">Conclusion</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="imageblock img-wide">
<div class="content">
<img src="images/postgresql-based-apps.png" alt="postgresql based apps">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="introduction">Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This guide walks you through the process of deploying PostgreSQL-based applications on a Kubernetes cluster using the Service Foundry Console. It includes setting up a persistent PostgreSQL database, provisioning storage, and deploying applications that interact with the database.</p>
</div>
<div class="paragraph">
<p>The following applications will be deployed as part of this example:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>pgAdmin4</strong> – A web-based administration tool for managing PostgreSQL databases.</p>
</li>
<li>
<p><strong>Metabase</strong> – An open-source business intelligence platform that connects to PostgreSQL for data exploration and dashboarding.</p>
</li>
<li>
<p><strong>Spring Boot Application</strong> – A sample Java application that connects to the PostgreSQL database for data persistence.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Both <strong>pgAdmin4</strong> and <strong>Metabase</strong> can be installed from the OpenSource Software Catalog provided by Service Foundry. The Spring Boot application is deployed using the Enterprise Applications section of the console.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="deploying-postgresql-on-kubernetes">Deploying PostgreSQL on Kubernetes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In the previous article, we configured an EKS cluster with Amazon EFS for persistent storage and deployed a PostgreSQL instance using the Service Foundry Console.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.linkedin.com/pulse/kubernetes-storage-management-service-foundry-console-young-gyu-kim-heq0c/">Kubernetes Storage Management with Service Foundry Console - LinkedIn Article</a></p>
</li>
<li>
<p><a href="https://nsalexamy.github.io/service-foundry/pages/documents/service-foundry/persistent-volumes/">Kubernetes Persistent Volumes with Service Foundry - Service Foundry Documentation</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="deploying-pgadmin4-and-metabase-via-the-opensource-software-catalog">Deploying pgAdmin4 and Metabase via the OpenSource Software Catalog</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Service Foundry Console simplifies the deployment of well-known open-source applications through its integrated OpenSource Software Catalog (OSS-Catalog). Users can deploy pre-configured tools like pgAdmin4 and Metabase with just a few clicks, making it easier to manage and visualize PostgreSQL data.</p>
</div>
<div class="sect2">
<h3 id="deploy-pgadmin4">Deploy pgAdmin4</h3>
<div class="paragraph">
<p>pgAdmin4 is a widely used web-based administration tool for managing PostgreSQL databases. To deploy pgAdmin4 using the OSS-Catalog in Service Foundry Console, follow these steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Log in to the Service Foundry Console.</p>
</li>
<li>
<p>Navigate to the <strong>OpenSource Software</strong> section in the left-hand menu.</p>
</li>
<li>
<p>Search for <strong>pgAdmin4</strong> in the Catalog.</p>
</li>
<li>
<p>Click on <strong>Install</strong> button on <strong>pgAdmin4</strong> application card.</p>
</li>
<li>
<p>Fill out the required fields in the installing form.</p>
</li>
<li>
<p>Click <strong>Install Application</strong> to initiate deployment.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Once deployed, pgAdmin4 will be available in the specified namespace, fully integrated with your PostgreSQL service.</p>
</div>
<div class="imageblock img-wide">
<div class="content">
<img src="images/console-oss-pgadmin4.png" alt="console oss pgadmin4">
</div>
<div class="title">Figure 1. Service Foundry Console - Deploy pgAdmin4</div>
</div>
<div class="paragraph">
<p>Select 'pgAdmin4' from the OSS-Catalog and click 'Install'.</p>
</div>
<div class="imageblock img-wide">
<div class="content">
<img src="images/console-oss-pgadmin4-install.png" alt="console oss pgadmin4 install">
</div>
<div class="title">Figure 2. Service Foundry Console - pgAdmin4 Configuration</div>
</div>
<div class="paragraph">
<p>Fill out the required fields for pgAdmin4 installation. The YAML configuration is updated automatically based on the input fields.</p>
</div>
<div class="paragraph">
<p>Here is the sample YAML configuration for pgAdmin4:</p>
</div>
<div class="listingblock">
<div class="title">pgadmin4 Installation Configuration</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="yaml"><span class="na">pgadmin4</span><span class="pi">:</span>
  <span class="na">chartName</span><span class="pi">:</span> <span class="s">pgadmin4</span>
  <span class="na">repoUrl</span><span class="pi">:</span> <span class="s">https://helm.runix.net</span>
  <span class="na">version</span><span class="pi">:</span> <span class="s">1.50.0</span>
  <span class="na">namespace</span><span class="pi">:</span> <span class="s">qc</span>
  <span class="na">releaseName</span><span class="pi">:</span> <span class="s">pgadmin4</span>
  <span class="na">replicaCount</span><span class="pi">:</span> <span class="m">1</span>
  <span class="na">imageRegistry</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span>
  <span class="na">imageRepository</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span>
  <span class="na">imageTag</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span>
  <span class="na">imagePullPolicy</span><span class="pi">:</span> <span class="s">IfNotPresent</span>
  <span class="na">serviceType</span><span class="pi">:</span> <span class="s">ClusterIP</span>
  <span class="na">email</span><span class="pi">:</span> <span class="s">admin@nsa2.com</span>
  <span class="na">password</span><span class="pi">:</span> <span class="s">changeit</span>
  <span class="na">existingClaim</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span>
  <span class="na">ingressHost</span><span class="pi">:</span> <span class="s">pgadmin4.nsa2.com</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>During the installation process, you’ll be asked to provide the following configuration details:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>namespace</strong>: The Kubernetes namespace where pgAdmin4 will be deployed.</p>
</li>
<li>
<p><strong>email</strong>: The administrator email address used to log in to the pgAdmin4 interface.</p>
</li>
<li>
<p><strong>password</strong>: The password associated with the admin email for secure access.</p>
</li>
<li>
<p><strong>ingressHost</strong>: The domain or subdomain through which pgAdmin4 will be accessed via Kubernetes Ingress.</p>
</li>
<li>
<p><strong>existingClaim</strong>: If you already have a Persistent Volume Claim (PVC) you wish to reuse, specify it here. Otherwise, leave this field blank to let the system create a new PVC automatically.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Since pgAdmin4 is a web-based application, it requires an Ingress resource to enable external access. Before proceeding, ensure that an Ingress controller is properly installed and configured in your Kubernetes cluster.</p>
</div>
<div class="paragraph">
<p>Once you’ve completed the configuration fields, click the <strong>Install Application</strong> button to begin the deployment.</p>
</div>
<div class="paragraph">
<p>You can monitor the installation status and view deployment progress in the <strong>Managed Applications</strong> section of the Service Foundry Console.</p>
</div>
<div class="imageblock img-wide">
<div class="content">
<img src="images/console-managed-apps-pgadmin4.png" alt="console managed apps pgadmin4">
</div>
<div class="title">Figure 3. Service Foundry Console - Managed Applications - pgAdmin4</div>
</div>
<div class="paragraph">
<p>Once the installation is complete, you can access pgAdmin4 through the configured Ingress host (e.g., <a href="http://pgadmin4.nsa2.com" class="bare">http://pgadmin4.nsa2.com</a>). Use the email and password you specified during installation to log in.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Ensure your DNS records are correctly configured so that the Ingress host resolves to the IP address of your cluster’s Ingress controller. This step is essential for enabling external access to the pgAdmin4 web interface.
</td>
</tr>
</table>
</div>
<div class="imageblock img-wide">
<div class="content">
<img src="images/pgadmin4-login.png" alt="pgadmin4 login">
</div>
<div class="title">Figure 4. pgAdmin4 Login Page</div>
</div>
<div class="paragraph">
<p>Use the email and password you provided during the installation to log in.</p>
</div>
<div class="sect3">
<h4 id="registering-the-postgresql-server-in-pgadmin4">Registering the PostgreSQL Server in pgAdmin4</h4>
<div class="paragraph">
<p>After logging in to pgAdmin4, the next step is to register your PostgreSQL server so you can manage and interact with it directly through the pgAdmin4 interface.</p>
</div>
<div class="imageblock img-wide">
<div class="content">
<img src="images/pgadmin4-register-server.png" alt="pgadmin4 register server">
</div>
<div class="title">Figure 5. pgAdmin4 - Register PostgreSQL Server</div>
</div>
<div class="imageblock img-medium">
<div class="content">
<img src="images/pgadmin4-new-connection.png" alt="pgadmin4 new connection">
</div>
<div class="title">Figure 6. pgAdmin4 - New Server Registration</div>
</div>
<div class="sect4">
<h5 id="postgresql-server-registration-details">PostgreSQL Server Registration Details</h5>
<div class="paragraph">
<p>To connect pgAdmin4 to your PostgreSQL instance, fill in the following details:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Host name/address: Enter the service name of your PostgreSQL deployment (e.g., postgresql.{namespace}).</p>
</li>
<li>
<p>Port: The port PostgreSQL is running on, typically 5432.</p>
</li>
<li>
<p>Maintenance database: The initial database to connect to, such as postgres.</p>
</li>
<li>
<p>Username: Your PostgreSQL username (e.g., postgres).</p>
</li>
<li>
<p>Password: The corresponding password for the specified user.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Once all fields are completed, click the <strong>Save</strong> button to register the PostgreSQL server and begin managing it through the pgAdmin4 interface.</p>
</div>
<div class="imageblock img-wide">
<div class="content">
<img src="images/pgadmin4-dashboard.png" alt="pgadmin4 dashboard">
</div>
<div class="title">Figure 7. pgAdmin4 - PostgreSQL Server Registered</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="summary">Summary</h4>
<div class="paragraph">
<p>In this section, we successfully deployed pgAdmin4 through the OSS-Catalog in the Service Foundry Console and connected it to our PostgreSQL server. With pgAdmin4 now up and running, you can easily manage your PostgreSQL databases, execute SQL queries, monitor performance, and perform routine administrative tasks—all through a user-friendly web interface.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="deploying-metabase">Deploying Metabase</h3>
<div class="paragraph">
<p>Metabase is an open-source business intelligence platform that enables users to explore, visualize, and analyze data stored in PostgreSQL and other databases.</p>
</div>
<div class="paragraph">
<p>To deploy Metabase using the OSS-Catalog in the Service Foundry Console, follow these steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Log in to the Service Foundry Console.</p>
</li>
<li>
<p>Go to the <strong>OpenSource Software</strong> section.</p>
</li>
<li>
<p>Search for <strong>Metabase</strong> in the OSS-Catalog.</p>
</li>
<li>
<p>Click the <strong>Install</strong> button on <strong>Metabase</strong> card.</p>
</li>
<li>
<p>Complete the installation form with the required configuration.</p>
</li>
<li>
<p>Click <strong>Install Application</strong> to deploy Metabase to your cluster.</p>
</li>
</ol>
</div>
<div class="imageblock img-wide">
<div class="content">
<img src="images/console-oss-metabase.png" alt="console oss metabase">
</div>
<div class="title">Figure 8. Service Foundry Console - Deploy Metabase</div>
</div>
<div class="paragraph">
<p>Select 'Metabase' from the OSS-Catalog and click 'Install'.</p>
</div>
<div class="imageblock img-wide">
<div class="content">
<img src="images/console-oss-metabase-install.png" alt="console oss metabase install">
</div>
<div class="title">Figure 9. Service Foundry Console - Metabase Configuration</div>
</div>
<div class="sect3">
<h4 id="configuring-metabase-installation">Configuring Metabase Installation</h4>
<div class="paragraph">
<p>To deploy Metabase using the OSS-Catalog in the Service Foundry Console, you’ll need to complete a few key configuration fields. As you enter values in the form, the corresponding YAML configuration is automatically updated to reflect your inputs.</p>
</div>
<div class="sect4">
<h5 id="required-configuration-fields">Required Configuration Fields</h5>
<div class="ulist">
<ul>
<li>
<p><strong>namespace</strong>: The Kubernetes namespace where Metabase will be deployed.</p>
</li>
<li>
<p><strong>existingClaim</strong>: If you already have a Persistent Volume Claim (PVC), specify its name here. If left blank, a new PVC will be created automatically.</p>
</li>
<li>
<p><strong>ingressHost</strong>: The hostname used to access Metabase via an Ingress controller (e.g., metabase.nsa2.com).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can leave all other fields at their default values.</p>
</div>
</div>
<div class="sect4">
<h5 id="sample-yaml-configuration">Sample YAML Configuration</h5>
<div class="paragraph">
<p>Below is an example of the auto-generated YAML configuration based on user input:</p>
</div>
<div class="listingblock">
<div class="title">Metabase Installation Configuration</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="yaml"><span class="na">metabase</span><span class="pi">:</span>
  <span class="na">chartName</span><span class="pi">:</span> <span class="s">metabase</span>
  <span class="na">repoUrl</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span>
  <span class="na">version</span><span class="pi">:</span> <span class="s">v0.56.7</span>
  <span class="na">namespace</span><span class="pi">:</span> <span class="s">qc</span>
  <span class="na">releaseName</span><span class="pi">:</span> <span class="s">metabase</span>
  <span class="na">replicaCount</span><span class="pi">:</span> <span class="m">1</span>
  <span class="na">imageRegistry</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span>
  <span class="na">imageRepository</span><span class="pi">:</span> <span class="s">metabase/metabase</span>
  <span class="na">imageTag</span><span class="pi">:</span> <span class="s">v0.56.7</span>
  <span class="na">imagePullPolicy</span><span class="pi">:</span> <span class="s">IfNotPresent</span>
  <span class="na">serviceType</span><span class="pi">:</span> <span class="s">ClusterIP</span>
  <span class="na">existingClaim</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span>
  <span class="na">ingressHost</span><span class="pi">:</span> <span class="s">metabase.nsa2.com</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Once the required fields are filled out, click the <strong>Install Application</strong> button to begin deployment.</p>
</div>
<div class="paragraph">
<p>You can track the deployment progress from the <strong>Managed Applications</strong> section within the Service Foundry Console. Once the installation completes, Metabase will be available at the specified ingress host.</p>
</div>
<div class="imageblock img-wide">
<div class="content">
<img src="images/console-managed-apps-metabase.png" alt="console managed apps metabase">
</div>
<div class="title">Figure 10. Service Foundry Console - Managed Applications - Metabase</div>
</div>
<div class="paragraph">
<p>After the installation is complete, you can access Metabase using the Ingress host you configured—for example, <a href="http://metabase.nsa2.com" class="bare">http://metabase.nsa2.com</a>. On your first visit, Metabase will prompt you to create an admin account to complete the initial setup.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="setting-up-admin-account-in-metabase">Setting Up Admin Account in Metabase</h4>
<div class="paragraph">
<p>When you access Metabase for the first time, you’ll be guided through a brief setup process where you’ll define an administrator account. This includes providing your name, email address, and a secure password. Once completed, you’ll gain access to the Metabase dashboard, where you can begin connecting data sources, building dashboards, and exploring insights.</p>
</div>
<div class="imageblock img-wide">
<div class="content">
<img src="images/metabase-setup-1.png" alt="metabase setup 1">
</div>
<div class="title">Figure 11. Metabase - Admin Account Setup</div>
</div>
<div class="paragraph">
<p>Click on the <strong>Let&#8217;s get started</strong> button to proceed.</p>
</div>
<div class="paragraph">
<p>Select your preferred language and click <strong>Next</strong>.</p>
</div>
<div class="imageblock img-wide">
<div class="content">
<img src="images/metabase-setup-3.png" alt="metabase setup 3">
</div>
<div class="title">Figure 12. Metabase - Admin Account Creation</div>
</div>
<div class="paragraph">
<p>Fill in the admin account details and click <strong>Next</strong>.</p>
</div>
<div class="imageblock img-wide">
<div class="content">
<img src="images/metabase-setup-4.png" alt="metabase setup 4">
</div>
<div class="title">Figure 13. Metabase - Admin Account Created</div>
</div>
<div class="paragraph">
<p>Answer the questions about your plans with Metabase and click <strong>Next</strong>.</p>
</div>
<div class="imageblock img-wide">
<div class="content">
<img src="images/metabase-setup-5.png" alt="metabase setup 5">
</div>
<div class="title">Figure 14. Metabase - Database Connection Setup</div>
</div>
<div class="paragraph">
<p>Select <strong>PostgreSQL</strong> as the database type to connect to your PostgreSQL database.</p>
</div>
<div class="paragraph">
<p>Key fields to fill in:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Connection string(optional): JDBC connection string (e.g., <code>jdbc:postgresql://postgresql.qc:5432/postgres</code>).</p>
</li>
<li>
<p>Host: The service name of your PostgreSQL deployment (e.g., <code>postgresql.{namespace}</code>).</p>
</li>
<li>
<p>Port: The port number on which PostgreSQL is running (default is <code>5432</code>).</p>
</li>
<li>
<p>Database name: The name of the database to connect to (e.g., <code>postgres</code>).</p>
</li>
<li>
<p>Database username: The PostgreSQL username (e.g., <code>postgres</code>).</p>
</li>
<li>
<p>Database password: The password for the PostgreSQL user.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>After filling in the details, click on the <strong>Connect database</strong> button to proceed.</p>
</div>
<div class="imageblock img-wide">
<div class="content">
<img src="images/metabase-setup-6.png" alt="metabase setup 6">
</div>
<div class="title">Figure 15. Metabase - Database Connected</div>
</div>
<div class="paragraph">
<p>Once the database connection is successful, you can click on the <strong>Finish</strong> button to complete the setup and then Click on the <strong>Take me to Metabase</strong> button to access the Metabase dashboard.</p>
</div>
<div class="imageblock img-wide">
<div class="content">
<img src="images/metabase-welcome.png" alt="metabase welcome">
</div>
<div class="title">Figure 16. Metabase - Welcome to Metabase</div>
</div>
<div class="paragraph">
<p>You have successfully deployed Metabase using OSS-Catalog in Service Foundry Console and connected it to your PostgreSQL database. You can now use Metabase to create dashboards, run queries, and analyze your data.</p>
</div>
<div class="imageblock img-wide">
<div class="content">
<img src="images/metabase-databases.png" alt="metabase databases">
</div>
<div class="title">Figure 17. Metabase Databases</div>
</div>
<div class="paragraph">
<p>The PostgreSQL database is connected successfully.</p>
</div>
<div class="imageblock img-wide">
<div class="content">
<img src="images/metabase-visualization.png" alt="metabase visualization">
</div>
<div class="title">Figure 18. Metabase Visualization</div>
</div>
<div class="paragraph">
<p>You can create various visualizations and dashboards using Metabase.</p>
</div>
</div>
<div class="sect3">
<h4 id="summary-2">Summary</h4>
<div class="paragraph">
<p>In this section, we successfully deployed Metabase using the OSS-Catalog feature in the Service Foundry Console and connected it to our PostgreSQL database. With Metabase up and running, you can now build interactive dashboards, run SQL or no-code queries, and analyze your PostgreSQL data visually—making it easier to extract insights and share them with your team.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="deploying-spring-boot-application-using-enterprise-applications">Deploying Spring Boot Application Using Enterprise Applications</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Beyond deploying tools like pgAdmin4 and Metabase, you can also deploy custom applications—such as a Spring Boot microservice that connects to a PostgreSQL database—using the Enterprise Applications feature in the Service Foundry Console.</p>
</div>
<div class="sect2">
<h3 id="deploy-a-sample-spring-boot-application">Deploy a Sample Spring Boot Application</h3>
<div class="paragraph">
<p>To deploy a Spring Boot application through the Enterprise Applications section, the container image must first be available in a container registry, such as Docker Hub or Amazon ECR.</p>
</div>
<div class="paragraph">
<p>In this example, we’ll use a pre-built Spring Boot application image that has already been published to Amazon ECR. This application is configured to connect to the PostgreSQL database and demonstrate basic integration with persistent storage and backend services.</p>
</div>
<div class="imageblock img-wide">
<div class="content">
<img src="images/aws-ecr.png" alt="aws ecr">
</div>
<div class="title">Figure 19. AWS ECR - Spring Boot Application Image</div>
</div>
<div class="paragraph">
<p>Go to the <strong>Enterprise Applications</strong> section in Service Foundry Console and click on the <strong>Add New Application</strong> button.</p>
</div>
<div class="imageblock img-wide">
<div class="content">
<img src="images/console-enterprise-apps.png" alt="console enterprise apps">
</div>
<div class="title">Figure 20. Service Foundry Console - Deploy Enterprise Application</div>
</div>
</div>
<div class="sect2">
<h3 id="configure-the-spring-boot-application">Configure the Spring Boot Application</h3>
<div class="paragraph">
<p>To deploy the Spring Boot application, fill in the required fields in the deployment form.</p>
</div>
<div class="imageblock img-wide">
<div class="content">
<img src="images/console-enterprise-apps-new-1.png" alt="console enterprise apps new 1">
</div>
<div class="title">Figure 21. Service Foundry Console - New Enterprise Application</div>
</div>
<div class="sect3">
<h4 id="key-configuration-fields">Key configuration fields</h4>
<div class="ulist">
<ul>
<li>
<p><strong>namespace</strong>: The Kubernetes namespace where the application will be deployed.</p>
</li>
<li>
<p><strong>applicationName</strong>: A unique name for your Spring Boot application.</p>
</li>
<li>
<p><strong>containerRegistry</strong>: The registry where your container image is hosted (e.g., aws for Amazon ECR).</p>
</li>
<li>
<p><strong>repository</strong>: The image repository path (e.g., nsalexamy/spring-boot-postgresql).</p>
</li>
<li>
<p><strong>tag</strong>: ThThe image tag or version (e.g., v1.0.0).</p>
</li>
<li>
<p><strong>replicaCount</strong>: The desired number of pod replicas (e.g., 1).</p>
</li>
<li>
<p><strong>serviceType</strong>: The type of Kubernetes service to expose the application (e.g., <code>LoadBalancer</code>).</p>
</li>
<li>
<p><strong>containerPort</strong>: The port your Spring Boot application listens on (typically 8080).</p>
</li>
<li>
<p><strong>ingressHost</strong>: The hostname to access your application via Ingress.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="customize-kubernetes-manifests">Customize Kubernetes Manifests</h4>
<div class="paragraph">
<p>Manifest files are automatically generated based on the form inputs. However, you can further customize them before deployment. In this example, we’ll include a ConfigMap to define application-specific properties for the Spring Boot service.</p>
</div>
<div class="imageblock img-wide">
<div class="content">
<img src="images/console-enterprise-apps-new-files.png" alt="console enterprise apps new files">
</div>
<div class="title">Figure 22. Service Foundry Console - New Enterprise Application - Manifest</div>
</div>
</div>
<div class="sect3">
<h4 id="add-manifest-files">Add manifest files</h4>
<div class="paragraph">
<p>After specifying the deployment details, the next step is to define the Kubernetes manifest files required for deploying the application. In this example, we’ll include five key resources:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Deployment</p>
</li>
<li>
<p>Service</p>
</li>
<li>
<p>ConfigMap</p>
</li>
<li>
<p>Secret</p>
</li>
<li>
<p>Ingress</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These files will be automatically applied during the application installation.</p>
</div>
<div class="imageblock img-wide">
<div class="content">
<img src="images/console-enterprise-apps-files-added.png" alt="console enterprise apps files added">
</div>
<div class="title">Figure 23. Service Foundry Console - New Enterprise Application - Files Added</div>
</div>
<div class="listingblock">
<div class="title">deployment.yaml</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="yaml"><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">apps/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Deployment</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">postgresql-example</span>
  <span class="na">labels</span><span class="pi">:</span>
    <span class="na">provider</span><span class="pi">:</span> <span class="s">service-foundry</span>

<span class="na">spec</span><span class="pi">:</span>
  <span class="na">replicas</span><span class="pi">:</span> <span class="m">1</span>
  <span class="na">selector</span><span class="pi">:</span>
    <span class="na">matchLabels</span><span class="pi">:</span>
      <span class="na">app</span><span class="pi">:</span> <span class="s">postgresql-example</span>
  <span class="na">template</span><span class="pi">:</span>
    <span class="na">metadata</span><span class="pi">:</span>
      <span class="na">labels</span><span class="pi">:</span>
        <span class="na">app</span><span class="pi">:</span> <span class="s">postgresql-example</span>
    <span class="na">spec</span><span class="pi">:</span>
      <span class="na">containers</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">postgresql-example</span>
          <span class="na">image</span><span class="pi">:</span> <span class="s">445567090745.dkr.ecr.ca-central-1.amazonaws.com/postgresql-example:0.1.0</span>
          <span class="na">imagePullPolicy</span><span class="pi">:</span> <span class="s">Always</span>
          <span class="na">ports</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="na">containerPort</span><span class="pi">:</span> <span class="m">8080</span>
          <span class="na">envFrom</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="na">configMapRef</span><span class="pi">:</span>
                <span class="na">name</span><span class="pi">:</span> <span class="s">postgresql-example-configmap</span>
                <span class="na">optional</span><span class="pi">:</span> <span class="kc">true</span>
            <span class="pi">-</span> <span class="na">secretRef</span><span class="pi">:</span>
                <span class="na">name</span><span class="pi">:</span> <span class="s">postgresql-example-secret</span>
                <span class="na">optional</span><span class="pi">:</span> <span class="kc">true</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">service.yaml</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="yaml"><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Service</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">postgresql-example</span>
  <span class="na">labels</span><span class="pi">:</span>
    <span class="na">provider</span><span class="pi">:</span> <span class="s">service-foundry</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">type</span><span class="pi">:</span> <span class="s">ClusterIP</span>  <span class="c1"># ClusterIP, NodePort, or LoadBalancer</span>
  <span class="c1">#  type: LoadBalancer</span>
  <span class="na">ports</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">port</span><span class="pi">:</span> <span class="m">8080</span>
  <span class="na">selector</span><span class="pi">:</span>
    <span class="na">app</span><span class="pi">:</span> <span class="s">postgresql-example</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">configmap.yaml</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="yaml"><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">ConfigMap</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">postgresql-example-configmap</span>
  <span class="na">labels</span><span class="pi">:</span>
    <span class="na">provider</span><span class="pi">:</span> <span class="s">service-foundry</span>
<span class="na">data</span><span class="pi">:</span>
  <span class="na">DB_URL</span><span class="pi">:</span> <span class="s">jdbc:postgresql://postgresql.service-foundry:5432/examples</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">secret.yaml</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="yaml"><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Secret</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">postgresql-example-secret</span>
  <span class="na">labels</span><span class="pi">:</span>
    <span class="na">provider</span><span class="pi">:</span> <span class="s">service-foundry</span>
<span class="na">data</span><span class="pi">:</span>
  <span class="na">DB_USERNAME</span><span class="pi">:</span> <span class="s">bnNhMg==</span>
  <span class="na">DB_PASSWORD</span><span class="pi">:</span> <span class="s">Y2hhbmdlaXQ=</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">ingress.yaml</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="yaml"><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">networking.k8s.io/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Ingress</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">postgresql-example-ingress</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">ingressClassName</span><span class="pi">:</span> <span class="s">traefik</span>
  <span class="na">rules</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">host</span><span class="pi">:</span> <span class="s2">"</span><span class="s">postgresql-example.nsa2.com"</span>
      <span class="na">http</span><span class="pi">:</span>
        <span class="na">paths</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="na">backend</span><span class="pi">:</span>
              <span class="na">service</span><span class="pi">:</span>
                <span class="na">name</span><span class="pi">:</span> <span class="s">postgresql-example</span>
                <span class="na">port</span><span class="pi">:</span>
                  <span class="na">number</span><span class="pi">:</span> <span class="m">8080</span>
                  <span class="c1">#name: http</span>
                  <span class="c1">#cannot set both port name &amp; port number</span>
            <span class="na">path</span><span class="pi">:</span> <span class="s">/</span>
            <span class="na">pathType</span><span class="pi">:</span> <span class="s">Prefix</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">kustomiation.yaml</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="yaml"><span class="na">namespace</span><span class="pi">:</span> <span class="s">qc</span>
<span class="na">resources</span><span class="pi">:</span>
 <span class="pi">-</span> <span class="s">postgresql-example-deployment.yaml</span>
 <span class="pi">-</span> <span class="s">postgresql-example-service.yaml</span>
 <span class="pi">-</span> <span class="s">postgresql-example-configmap.yaml</span>
 <span class="pi">-</span> <span class="s">postgresql-example-secret.yaml</span>
 <span class="pi">-</span> <span class="s">postgresql-example-ingress.yaml</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Once all manifest files are added and validated, click the <strong>Install Application</strong> button to complete the deployment. Service Foundry Console will apply the configuration and manage the lifecycle of the application for you.</p>
</div>
<div class="imageblock img-wide">
<div class="content">
<img src="images/console-enterprise-apps-installed.png" alt="console enterprise apps installed">
</div>
<div class="title">Figure 24. Service Foundry Console - New Enterprise Application - Added</div>
</div>
<div class="paragraph">
<p>Now you can access the Spring Boot application using the specified ingress host (e.g., <a href="http://postgresql-example.nsa2.com" class="bare">http://postgresql-example.nsa2.com</a>).</p>
</div>
<div class="paragraph">
<p>Here is Swagger UI of the Spring Boot application:</p>
</div>
<div class="imageblock img-wide">
<div class="content">
<img src="images/swagger-user-controller.png" alt="swagger user controller">
</div>
<div class="title">Figure 25. Spring Boot Application - Swagger UI</div>
</div>
<div class="paragraph">
<p>Click 'Execute' button to call the API.</p>
</div>
<div class="paragraph">
<p>Then you can see the response from the PostgreSQL database.</p>
</div>
<div class="imageblock img-wide">
<div class="content">
<img src="images/swagger-user-controller-response.png" alt="swagger user controller response">
</div>
<div class="title">Figure 26. Spring Boot Application - API Response</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="summary-deploying-a-spring-boot-application-with-postgresql-on-service-foundry-console">Summary: Deploying a Spring Boot Application with PostgreSQL on Service Foundry Console</h3>
<div class="paragraph">
<p>In this section, we walked through deploying a Spring Boot application that connects to a PostgreSQL database using the Enterprise Applications feature in the Service Foundry Console. The process begins by specifying the necessary configuration details such as namespace, container registry, image repository, port, and ingress hostname. Once these are provided, the Console automatically generates base Kubernetes manifests.</p>
</div>
<div class="paragraph">
<p>To ensure proper environment setup, additional manifests were manually added, including:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A <strong>Deployment</strong> definition with environment variables sourced from a ConfigMap and Secret.</p>
</li>
<li>
<p>A <strong>Service</strong> to expose the application internally within the cluster.</p>
</li>
<li>
<p>A <strong>ConfigMap</strong> storing the JDBC connection string to the PostgreSQL database.</p>
</li>
<li>
<p>A <strong>Secret</strong> containing base64-encoded credentials for database access.</p>
</li>
<li>
<p>An <strong>Ingress</strong> resource for routing external traffic to the application using a custom domain.</p>
</li>
<li>
<p>A <strong>Kustomization</strong> file to organize and deploy all the resources under a single namespace.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>After assembling these components, the application is ready to be installed through the Console interface. This section demonstrates how the Enterprise Applications module in Service Foundry streamlines deploying production-ready, database-connected microservices with full Kubernetes manifest control.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="conclusion">Conclusion</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this guide, we demonstrated how to deploy and manage PostgreSQL-based applications on a Kubernetes cluster using the Service Foundry Console. We covered the full process—from provisioning persistent storage with EFS and installing PostgreSQL, to deploying powerful supporting tools like <strong>pgAdmin4</strong> for database administration and <strong>Metabase</strong> for data analytics via the OSS-Catalog. We also showcased how to deploy a custom <strong>Spring Boot application</strong> using the Enterprise Applications module, complete with configuration files and Ingress setup.</p>
</div>
<div class="paragraph">
<p>Together, these tools offer a complete, Kubernetes-native workflow for managing, visualizing, and integrating with PostgreSQL databases. Whether you’re operating in development or production environments, Service Foundry provides a seamless experience for deploying stateful workloads with GitOps best practices.</p>
</div>
<div class="paragraph">
<p>You are now equipped to manage PostgreSQL storage, connect business tools, and deploy your own data-driven applications—all from a single, streamlined interface.</p>
</div>
<div class="paragraph">
<p>📘 View the web version:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://nsalexamy.github.io/service-foundry/pages/documents/service-foundry/postgresql-based-apps/">Deploying PostgreSQL-Based Applications on Kubernetes with Service Foundry - Service Foundry Documentation</a></p>
</li>
</ul>
</div>
</div>
</div>
        </div>
    </main>
</div>




<script>
    const toc = document.getElementById('toc');
    const container = document.getElementById('toc-container');
    if (toc && container) {
        container.appendChild(toc);
    }
</script>


<!--<button onclick="toggleTheme()" style="position: fixed; bottom: 1rem; right: 1rem; padding: 0.5rem 1rem; background-color: var(&#45;&#45;link); color: white; border: none; border-radius: 0.375rem; cursor: pointer;">-->
<!--    Toggle Theme-->
<!--</button>-->

<!--<script>-->
<!--    function toggleTheme() {-->
<!--        const html = document.documentElement;-->
<!--        const isDark = html.getAttribute("data-theme") === "dark";-->
<!--        html.setAttribute("data-theme", isDark ? "light" : "dark");-->
<!--        localStorage.setItem("theme", isDark ? "light" : "dark");-->
<!--    }-->

<!--    document.addEventListener("DOMContentLoaded", () => {-->
<!--        const savedTheme = localStorage.getItem("theme") || "light";-->
<!--        document.documentElement.setAttribute("data-theme", savedTheme);-->
<!--    });-->
<!--</script>-->

<!-- Footer -->
<footer class="bg-gray-900 text-white text-sm py-6 text-center">
    © 2025 Service Foundry. All rights reserved.
</footer>
</body>
</html>
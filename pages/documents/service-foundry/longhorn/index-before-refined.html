<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Using Longhorn as Storage Class in Service Foundry</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
        body {
            font-family: sans-serif;
            background-color: #f8fafc;
            color: #1f2937;
            margin: 0;
            padding: 0;
        }
    </style>
    
</head>
<body>
<div id="toc" class="toc">
<div id="toctitle">On this page</div>
<ul class="sectlevel1">
<li><a href="#overview">Overview</a></li>
<li><a href="#what-is-longhorn">What is Longhorn?</a></li>
<li><a href="#longhorn-vs-ebs-csi-driver">Longhorn vs EBS CSI Driver</a></li>
<li><a href="#considerations-for-eks-cluster">Considerations for EKS Cluster</a>
<ul class="sectlevel2">
<li><a href="#instance-types">Instance types</a></li>
<li><a href="#node-count">Node Count</a></li>
<li><a href="#ssh-access">SSH Access</a></li>
<li><a href="#aws-ebs-csi-driver">AWS EBS CSI Driver</a></li>
<li><a href="#longhorn-storage-class">Longhorn Storage Class</a></li>
</ul>
</li>
<li><a href="#connecting-to-kubernetes-nodes">Connecting to Kubernetes Nodes</a>
<ul class="sectlevel2">
<li><a href="#using-ssh-key">Using SSH Key</a></li>
</ul>
</li>
<li><a href="#installation-requirements">Installation Requirements</a>
<ul class="sectlevel2">
<li><a href="#check-points">Check points</a></li>
<li><a href="#tldr-install-open-iscsi-on-all-nodes">TL;DR: Install Open-iscsi on All Nodes</a></li>
<li><a href="#install-open-iscsi-on-all-nodes">Install Open-iscsi on All Nodes</a></li>
</ul>
</li>
<li><a href="#install-longhorn-using-helm">Install Longhorn using Helm</a>
<ul class="sectlevel2">
<li><a href="#storage-class">Storage Class</a></li>
</ul>
</li>
<li><a href="#accessing-longhorn-ui-using-httproute-with-single-sign-on">Accessing Longhorn UI using HTTPRoute with Single Sign-On</a>
<ul class="sectlevel2">
<li><a href="#traefik-middlewares-yaml">traefik-middlewares.yaml</a></li>
<li><a href="#httproutes-yaml">httproutes.yaml</a></li>
</ul>
</li>
<li><a href="#conclusion">Conclusion</a></li>
<li><a href="#references">References</a></li>
</ul>
</div>
<div class="sect1">
<h2 id="overview">Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This document provides a step-by-step guide to using Longhorn as a storage class in EKS cluster.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="what-is-longhorn">What is Longhorn?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Longhorn is a high-performance, open-source, and production-ready distributed block storage system for Kubernetes. It provides a simple, yet powerful, way to manage storage in a Kubernetes cluster.
Originally developed by Rancher Labs, it is now being developed as a incubating project of the Cloud Native Computing Foundation (CNCF).</p>
</div>
<div class="paragraph">
<p>With Longhorn, you can:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Use Longhorn volumes as persistent storage for the distributed stateful applications in your Kubernetes cluster.</p>
</li>
<li>
<p>Partition your block storage into Longhorn volumes so that you can use Kubernetes volumes with or without a cloud provider.</p>
</li>
<li>
<p>Replicate block storage across multiple nodes and data centers to increase availability.</p>
</li>
<li>
<p>Store backup data in external storage such as NFS or AWS S3.</p>
</li>
<li>
<p>Create cross-cluster disaster recovery volumes so that data from a primary Kubernetes cluster can be quickly recovered from backup in a second Kubernetes cluster.</p>
</li>
<li>
<p>Schedule recurring snapshots of a volume, and schedule recurring backups to NFS or S3-compatible secondary storage.</p>
</li>
<li>
<p>Restore volumes from backup.</p>
</li>
<li>
<p>Upgrade Longhorn without disrupting persistent volumes.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="longhorn-vs-ebs-csi-driver">Longhorn vs EBS CSI Driver</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Longhorn provides a more feature-rich storage solution than EBS CSI Driver.</p>
</div>
<div class="paragraph">
<p>Benefits of Longhorn over EBS CSI Driver:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>EBS CSI Driver can be accessed in the same AZ only while Longhorn can be accessed in multiple AZs.</p>
</li>
<li>
<p>EBS is not a distributed storage while Longhorn is a distributed storage.</p>
</li>
<li>
<p>EBS supports Read-Write-Once (RWO) access mode only while Longhorn supports Read-Write-Many (RWX) access mode.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Distributed storage system for stateful applications is a must for production workloads.
More reliable storage for your database is a must for production workloads.</p>
</div>
<div class="paragraph">
<p>Suppose you have a stateful application that requires a distributed storage system, Longhorn is the better choice.
Suppose your database is restarted, and the pod is scheduled to a different node, Longhorn will automatically mount the volume to the new node while EBS CSI Driver will not.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="considerations-for-eks-cluster">Considerations for EKS Cluster</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="instance-types">Instance types</h3>
<div class="paragraph">
<p>Choose instance types that support SSDs.</p>
</div>
<div class="paragraph">
<p>m5d series, m5ad series, m6g series, m6gd series, c5d series, c5ad series, c6g series, c6gd series, r5d series, r5ad series, r6g series, r6gd series, t5d series, t5ad series, t6g series, t6gd series, z5d series, z5ad series, z6g series, z6gd series</p>
</div>
</div>
<div class="sect2">
<h3 id="node-count">Node Count</h3>
<div class="paragraph">
<p>Choose at least 3 nodes.</p>
</div>
<div class="paragraph">
<p>It is critical to have at least 3 nodes to ensure high availability.</p>
</div>
</div>
<div class="sect2">
<h3 id="ssh-access">SSH Access</h3>
<div class="paragraph">
<p>Enable SSH access to the nodes.</p>
</div>
<div class="listingblock">
<div class="title">Use ssh-access option</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">eksctl create cluster <span class="nt">--name</span> &lt;cluster-name&gt; <span class="nt">--region</span> &lt;region&gt; <span class="nt">--ssh-access</span> <span class="nt">--ssh-public-key</span> &lt;public-key-name&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="aws-ebs-csi-driver">AWS EBS CSI Driver</h3>
<div class="paragraph">
<p>DO NOT install the AWS EBS CSI driver. Longhorn provides its own CSI driver.</p>
</div>
</div>
<div class="sect2">
<h3 id="longhorn-storage-class">Longhorn Storage Class</h3>
<div class="paragraph">
<p>Use Longhorn storage class as the default storage class.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="connecting-to-kubernetes-nodes">Connecting to Kubernetes Nodes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>It is required to connect to the nodes to make the nodes ready for Longhorn.</p>
</div>
<div class="sect2">
<h3 id="using-ssh-key">Using SSH Key</h3>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span>kubectl get nodes <span class="nt">-o</span> wide

<span class="c"># Example output</span>
NAME                                              STATUS   ROLES    AGE     VERSION               INTERNAL-IP      EXTERNAL-IP    OS-IMAGE                        KERNEL-VERSION                   CONTAINER-RUNTIME
ip-192-168-21-231.ca-central-1.compute.internal   Ready    &lt;none&gt;   2m46s   v1.34.2-eks-ecaa3a6   192.168.21.231   15.223.3.109   Amazon Linux 2023.10.20260105   6.12.63-84.121.amzn2023.x86_64   containerd://2.1.5
ip-192-168-27-255.ca-central-1.compute.internal   Ready    &lt;none&gt;   2m46s   v1.34.2-eks-ecaa3a6   192.168.27.255   3.96.149.66    Amazon Linux 2023.10.20260105   6.12.63-84.121.amzn2023.x86_64   containerd://2.1.5
ip-192-168-38-165.ca-central-1.compute.internal   Ready    &lt;none&gt;   2m47s   v1.34.2-eks-ecaa3a6   192.168.38.165   3.98.131.80    Amazon Linux 2023.10.20260105   6.12.63-84.121.amzn2023.x86_64   containerd://2.1.5</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># Use the name from the previous command</span>

<span class="nv">$ NODE_NAME</span><span class="o">=</span><span class="s2">"ip-192-168-21-231.ca-central-1.compute.internal"</span>

<span class="nv">$ </span>aws ec2 describe-instances <span class="se">\</span>
  <span class="nt">--filters</span> <span class="s2">"Name=private-dns-name,Values=</span><span class="k">${</span><span class="nv">NODE_NAME</span><span class="k">}</span><span class="s2">"</span> <span class="se">\</span>
  <span class="nt">--query</span> <span class="s1">'Reservations[].Instances[].[InstanceId,PublicIpAddress,PrivateIpAddress]'</span> <span class="se">\</span>
  <span class="nt">--output</span> table

<span class="c"># Example output</span>

| InstanceId | PublicIpAddress | PrivateIpAddress |
|------------|-----------------|------------------|
| i-0123456789abcdef0 | 15.223.3.109 | 192.168.21.231 |</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">SSH to node</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">ssh <span class="nt">-i</span> ~/.ssh/id_rsa ec2-user@15.223.3.109</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="installation-requirements">Installation Requirements</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="check-points">Check points</h3>
<div class="paragraph">
<p>According to Longhorn documentation, each node in the Kubernetes cluster where Longhorn is installed must fulfill the following requirements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A container runtime compatible with Kubernetes (Docker v1.13+, containerd v1.3.7+, etc.)</p>
</li>
<li>
<p>Kubernetes &gt;= v1.25</p>
</li>
<li>
<p>open-iscsi is installed, and the iscsid daemon is running on all the nodes. This is necessary, since Longhorn relies on iscsiadm on the host to provide persistent volumes to Kubernetes. For help installing open-iscsi, refer to Installing open-iscsi.</p>
</li>
<li>
<p>RWX support requires that each node has a NFSv4 client installed</p>
</li>
<li>
<p>The host filesystem supports the file extents feature to store the data. Currently we support:</p>
</li>
<li>
<p>ext4</p>
</li>
<li>
<p>xfs</p>
</li>
<li>
<p>bash, curl, findmnt, grep, awk, blkid, lsblk must be installed.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Amazon Linux 2023 satisfies all the requirements except open-iscsi.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="tldr-install-open-iscsi-on-all-nodes">TL;DR: Install Open-iscsi on All Nodes</h3>
<div class="paragraph">
<p>Install open-iscsi on all nodes and enable and start the iscsid service.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span><span class="nb">sudo </span>dnf <span class="nb">install</span> <span class="nt">-y</span> iscsi-initiator-utils
<span class="nv">$ </span><span class="nb">sudo </span>systemctl <span class="nb">enable </span>iscsid
<span class="nv">$ </span><span class="nb">sudo </span>systemctl start iscsid</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="install-open-iscsi-on-all-nodes">Install Open-iscsi on All Nodes</h3>
<div class="paragraph">
<p>By default, Amazon Linux 2023 does not have open-iscsi installed. You need to install it on all the nodes.</p>
</div>
<div class="listingblock">
<div class="title">In SSH session, run the following command to install open-iscsi</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span><span class="nb">sudo </span>dnf <span class="nb">install</span> <span class="nt">-y</span> iscsi-initiator-utils</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">In SSH session, run the following command to check the open-iscsi version</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span>iscsiadm <span class="nt">--version</span>

<span class="c"># Example output</span>
iscsiadm version 6.2.1.4</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Enable and start the iscsid service</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span><span class="nb">sudo </span>systemctl <span class="nb">enable </span>iscsid
<span class="nv">$ </span><span class="nb">sudo </span>systemctl start iscsid</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">In SSH session, run the following command to check the iscsid service status</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span><span class="nb">sudo </span>systemctl status iscsid

<span class="c"># Example output</span>

‚óè iscsid.service - Open-iSCSI
     Loaded: loaded <span class="o">(</span>/usr/lib/systemd/system/iscsid.service<span class="p">;</span> enabled<span class="p">;</span> preset: disabled<span class="o">)</span>
     Active: active <span class="o">(</span>running<span class="o">)</span> since Sun 2026-01-25 02:13:24 UTC<span class="p">;</span> 7s ago</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="install-longhorn-using-helm">Install Longhorn using Helm</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Once you finish the installation requirements, you can install Longhorn using Helm.</p>
</div>
<div class="paragraph">
<p>The custom-values.yaml file is used to override the default values in the values.yaml file.</p>
</div>
<div class="listingblock">
<div class="title">custom-values.yaml</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="yaml"><span class="na">preUpgradeChecker</span><span class="pi">:</span>
  <span class="na">jobEnabled</span><span class="pi">:</span> <span class="kc">false</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Install Longhorn using Helm</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span>helm <span class="nb">install </span>longhorn <span class="nt">--repo</span> https://charts.longhorn.io longhorn <span class="se">\</span>
    <span class="nt">--namespace</span> longhorn-system <span class="nt">--create-namespace</span> <span class="nt">-f</span> custom-values.yaml</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="storage-class">Storage Class</h3>
<div class="paragraph">
<p>Once Longhorn is installed, you can use the Longhorn StorageClass to create PersistentVolumes.</p>
</div>
<div class="listingblock">
<div class="title">List StorageClasses</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span>kubectl get storageclasses
NAME                 PROVISIONER             RECLAIMPOLICY   VOLUMEBINDINGMODE      ALLOWVOLUMEEXPANSION   AGE
gp2                  kubernetes.io/aws-ebs   Delete          WaitForFirstConsumer   <span class="nb">false                  </span>4h2m
longhorn <span class="o">(</span>default<span class="o">)</span>   driver.longhorn.io      Delete          Immediate              <span class="nb">true                   </span>138m
longhorn-static      driver.longhorn.io      Delete          Immediate              <span class="nb">true                   </span>138m</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now longhorn is the default StorageClass. If you install a Helm chart that requires a PersistentVolume, it will use the Longhorn StorageClass by default.</p>
</div>
<div class="paragraph">
<p>For example, PostgreSQL servers and Redis servers used in Service Foundry are using Longhorn StorageClass.</p>
</div>
<div class="listingblock">
<div class="title">List PersistentVolumes</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span>kubectl get pv
NAME                                       CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS   CLAIM                                       STORAGECLASS   VOLUMEATTRIBUTESCLASS   REASON   AGE
pvc-4f9baf6b-dd14-4e8c-87db-bcbc712fbb56   8Gi        RWO            Delete           Bound    keycloak/data-keycloak-postgresql-0         longhorn       &lt;<span class="nb">unset</span><span class="o">&gt;</span>                          95m
pvc-648a4534-2363-4530-bbef-5284e2e81457   8Gi        RWO            Delete           Bound    service-foundry/redis-data-redis-master-0   longhorn       &lt;<span class="nb">unset</span><span class="o">&gt;</span>                          92m
pvc-988abaf1-5aa1-4f20-b973-c9ea4856a05d   8Gi        RWO            Delete           Bound    service-foundry/data-postgresql-0           longhorn       &lt;<span class="nb">unset</span><span class="o">&gt;</span>                          95m</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">List PersistentVolumeClaims</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span> kubectl get pvc <span class="nt">-A</span>
NAMESPACE         NAME                         STATUS   VOLUME                                     CAPACITY   ACCESS MODES   STORAGECLASS   VOLUMEATTRIBUTESCLASS   AGE
keycloak          data-keycloak-postgresql-0   Bound    pvc-4f9baf6b-dd14-4e8c-87db-bcbc712fbb56   8Gi        RWO            longhorn       &lt;<span class="nb">unset</span><span class="o">&gt;</span>                 96m
service-foundry   data-postgresql-0            Bound    pvc-988abaf1-5aa1-4f20-b973-c9ea4856a05d   8Gi        RWO            longhorn       &lt;<span class="nb">unset</span><span class="o">&gt;</span>                 96m
service-foundry   redis-data-redis-master-0    Bound    pvc-648a4534-2363-4530-bbef-5284e2e81457   8Gi        RWO            longhorn       &lt;<span class="nb">unset</span><span class="o">&gt;</span>                 93m</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="accessing-longhorn-ui-using-httproute-with-single-sign-on">Accessing Longhorn UI using HTTPRoute with Single Sign-On</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We have already seen how to expose Kubernetes services using HTTPRoute with Single Sign-On.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>traefik-middlewares.yaml: Deligate the forward-auth middleware so that HTTPRoute can use it in longhorn-system namespace.</p>
</li>
<li>
<p>httproutes.yaml: Expose the longhorn-ui service using HTTPRoute.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="traefik-middlewares-yaml">traefik-middlewares.yaml</h3>
<div class="paragraph">
<p>In service-foundry namespace, we already have the forward-auth middleware that plays the role of authentication service using Keycloak, OAuth2-proxy, and traefik.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="yaml"><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">traefik.io/v1alpha1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Middleware</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">forward-auth-delegate</span>
  <span class="na">namespace</span><span class="pi">:</span> <span class="s">longhorn-system</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">chain</span><span class="pi">:</span>
    <span class="na">middlewares</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">forward-auth</span>
        <span class="na">namespace</span><span class="pi">:</span> <span class="s">service-foundry</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This middleware will be used by HTTPRoute to delegate the authentication to the forward-auth middleware.</p>
</div>
</div>
<div class="sect2">
<h3 id="httproutes-yaml">httproutes.yaml</h3>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="yaml"><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">gateway.networking.k8s.io/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">HTTPRoute</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">longhorn-httproute</span>
  <span class="na">namespace</span><span class="pi">:</span> <span class="s">longhorn-system</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">parentRefs</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">traefik-gateway</span>
      <span class="na">namespace</span><span class="pi">:</span> <span class="s">traefik</span>
  <span class="na">hostnames</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">longhorn.servicefoundry.org</span>

  <span class="na">rules</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">matches</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">path</span><span class="pi">:</span>
          <span class="na">type</span><span class="pi">:</span> <span class="s">PathPrefix</span>
          <span class="na">value</span><span class="pi">:</span> <span class="s">/</span>
      <span class="na">filters</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s">ExtensionRef</span>
          <span class="na">extensionRef</span><span class="pi">:</span>
            <span class="na">group</span><span class="pi">:</span> <span class="s">traefik.io</span>
            <span class="na">kind</span><span class="pi">:</span> <span class="s">Middleware</span>
            <span class="na">name</span><span class="pi">:</span> <span class="s">forward-auth-delegate</span>
      <span class="na">backendRefs</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">longhorn-frontend</span>
        <span class="na">port</span><span class="pi">:</span> <span class="m">80</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Navigate to <a href="https://longhorn.servicefoundry.org/" class="bare">https://longhorn.servicefoundry.org/</a> to access the Longhorn UI. You should be able to login using your Service Foundry credentials.</p>
</div>
<div class="imageblock img-wide">
<div class="content">
<img src="./images/longhorn-login.png" alt="Longhorn Single Sign-On Login">
</div>
</div>
<div class="paragraph">
<p>There are gauges for the number of volumes, scheduable storage, and nodes.</p>
</div>
<div class="imageblock img-wide">
<div class="content">
<img src="./images/longhorn-dashboard.png" alt="Longhorn Dashboard">
</div>
</div>
<div class="paragraph">
<p>If you click on 'Nodes' tab, you will see the nodes that are running Longhorn.</p>
</div>
<div class="imageblock img-wide">
<div class="content">
<img src="./images/longhorn-nodes.png" alt="Longhorn Nodes">
</div>
</div>
<div class="paragraph">
<p>On the Nodes, you can see the nodes that are running Longhorn.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Status: Schedulable</p>
</li>
<li>
<p>Readiness: Ready</p>
</li>
<li>
<p>Name: Node name</p>
</li>
<li>
<p>Replicas: Number of replicas</p>
</li>
<li>
<p>Allocated: Allocated storage</p>
</li>
<li>
<p>Used: Used storage</p>
</li>
<li>
<p>Size: Total storage</p>
</li>
<li>
<p>Tags: Tags</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you click on 'Volumes' tab, you will see the volumes that are running Longhorn.</p>
</div>
<div class="imageblock img-wide">
<div class="content">
<img src="./images/longhorn-volumes.png" alt="Longhorn Volumes">
</div>
</div>
<div class="paragraph">
<p>On the Volumes, you can see the volumes that are running Longhorn.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Status: Healthy</p>
</li>
<li>
<p>Name: Volume name</p>
</li>
<li>
<p>Size: Volume size</p>
</li>
<li>
<p>Actual Size: Actual size</p>
</li>
<li>
<p>Created: Created time</p>
</li>
<li>
<p>Data Engine: Data engine</p>
</li>
<li>
<p>PV/PVC: Bound or Unbound</p>
</li>
<li>
<p>Namespace: Namespace</p>
</li>
<li>
<p>Attached To: Pod name using the volume</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="conclusion">Conclusion</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this document, we have seen:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>What is Longhorn</p>
</li>
<li>
<p>What are benefits of using Longhorn over EBS volumes</p>
</li>
<li>
<p>How to set up Kubernetes Nodes to run Longhorn</p>
</li>
<li>
<p>How to install Longhorn using Helm</p>
</li>
<li>
<p>How to expose Longhorn using HTTPRoute with Single Sign-On</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="references">References</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="https://longhorn.io/docs/1.10.1/deploy/install/#installation-requirements" class="bare">https://longhorn.io/docs/1.10.1/deploy/install/#installation-requirements</a></p>
</li>
</ul>
</div>
</div>
</div>
</body>
</html>
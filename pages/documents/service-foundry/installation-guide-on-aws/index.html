<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Service Foundry Installation Guide for AWS Users</title>
    <!-- rouge source highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/service-foundry/pages/assets/css/main.css">

    <!-- Highlight.js script -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <script>
        hljs.highlightAll();
    </script>
</head>
<body class="">

<!-- Header -->
<header>
<!--    <div class="logo text-xl font-semibold">Service Foundry</div>-->
    <a href="/service-foundry/pages/index.html" class="text-2xl font-semibold hover:text-teal-400">
    Service Foundry
</a>
    <nav>
    
        
        <a href="/service-foundry/pages/getting-started/" class="">Getting Started</a>
    
        
        <a href="/service-foundry/pages/products/" class="">Products</a>
    
        
        <a href="/service-foundry/pages/documents/" class="active">Docs</a>
    
        
        <a href="/service-foundry/pages/github/" class="">GitHub</a>
    
        
        <a href="/service-foundry/pages/developers/" class="">Developers</a>
    
        
        <a href="/service-foundry/pages/demo/" class="">Demo</a>
    
</nav>
</header>


    <!-- Sub-navigation for Foundries -->
    <div class="subnav">

    
    <a href="/service-foundry/pages/documents/service-foundry/" class="active">Service Foundry</a>

    
    <a href="/service-foundry/pages/documents/mlops-foundry/" class="">MLOps Foundry</a>

    
    <a href="/service-foundry/pages/documents/blog/" class="">Blog</a>

    
    <a href="/service-foundry/pages/documents/infra-foundry/" class="">Infra</a>

    
    <a href="/service-foundry/pages/documents/sso-foundry/" class="">SSO</a>

    
    <a href="/service-foundry/pages/documents/o11y-foundry/" class="">Observability</a>

    
    <a href="/service-foundry/pages/documents/backend-foundry/" class="">Backend</a>

    
    <a href="/service-foundry/pages/documents/bigdata-foundry/" class="">Big Data</a>

<!--    <a href="/service-foundry/pages/documents/infra-foundry/index-backup.html" class="text-gray-300 hover:text-white">Infra</a>-->
<!--    <a href="/service-foundry/pages/documents/sso-foundry/index-backup.html" class="text-gray-300 hover:text-white">SSO</a>-->
<!--    <a href="/service-foundry/pages/documents/o11y-foundry/index-backup.html" class="text-gray-300 hover:text-white">Observability</a>-->
<!--    <a href="/service-foundry/pages/documents/backend-foundry/index-backup.html" class="text-gray-300 hover:text-white">Backend</a>-->
<!--    <a href="/service-foundry/pages/documents/bigdata-foundry/index-backup.html" class="text-gray-300 hover:text-white">Big Data</a>-->
</div>





<!-- Breadcrumb -->

    <nav class="breadcrumb-wrapper">
    <ol class="breadcrumb">
        
        <li>
            
            <a href="/service-foundry/pages/">Home</a>
            
            
            <span class="separator">/</span>
            
        </li>
        
        <li>
            
            <a href="/service-foundry/pages/documents/">Docs</a>
            
            
            <span class="separator">/</span>
            
        </li>
        
        <li>
            
            <a href="/service-foundry/pages/documents/service-foundry/">Service Foundry</a>
            
            
        </li>
        
    </ol>
</nav>





<!-- Main Layout -->
<div class="container">


    <nav id="toc-container" class="toc-nav"></nav>


    <main id="main-content">
        
        <div class="author-box">
            Young Gyu Kim
            &lt;<a href="mailto:credemol@gmail.com" style="color: #0d9488; text-decoration: none;">credemol@gmail.com</a>&gt;
        </div>
        

        <!-- Title -->
        
        <h1 class="page-title">
            Service Foundry Installation Guide for AWS Users
        </h1>
        

        <div class="asciidoc">
            <div id="toc" class="toc">
<div id="toctitle">On this page</div>
<ul class="sectlevel1">
<li><a href="#introduction">Introduction</a>
<ul class="sectlevel2">
<li><a href="#what-youll-need">What You&#8217;ll Need</a></li>
</ul>
</li>
<li><a href="#installation-overview">Installation Overview</a></li>
<li><a href="#step-1-set-up-aws-cloud-shell">Step 1: Set Up AWS Cloud Shell</a>
<ul class="sectlevel2">
<li><a href="#install-cli-tools">Install CLI Tools</a></li>
<li><a href="#configure-ssh-access-for-github">Configure SSH Access for GitHub</a></li>
<li><a href="#add-homebin-to-path">Add $HOME/bin to PATH</a></li>
<li><a href="#install-helm-yq-and-eksctl">Install Helm, yq, and eksctl</a></li>
</ul>
</li>
<li><a href="#step-2-create-an-eks-cluster-optional">Step 2: Create an EKS Cluster (Optional)</a></li>
<li><a href="#step-3-configure-kubectl-for-the-eks-cluster">Step 3: Configure kubectl for the EKS Cluster</a></li>
<li><a href="#step-4-create-github-repository-for-gitops">Step 4: Create GitHub Repository for GitOps</a></li>
<li><a href="#step-5-download-bootstrap-scripts">Step 5: Download Bootstrap Scripts</a>
<ul class="sectlevel2">
<li><a href="#create-a-community-edition-license-key">Create a Community Edition License Key</a></li>
<li><a href="#fill-out-the-form-to-download-bootstrap-scripts">Fill out the Form to Download Bootstrap Scripts</a></li>
<li><a href="#upload-the-bootstrap-script-zip-file-to-aws-cloud-shell">Upload the Bootstrap Script Zip File to AWS Cloud Shell</a></li>
<li><a href="#step-6-set-environment-variables">Step 6: Set Environment Variables</a></li>
</ul>
</li>
<li><a href="#step-7-run-the-bootstrap-script">Step 7: Run the Bootstrap Script</a></li>
<li><a href="#step-8-dns-configuration-optional">Step 8: DNS Configuration (Optional)</a></li>
<li><a href="#load-balancers">Load Balancers</a></li>
<li><a href="#access-service-foundry">Access Service Foundry</a></li>
<li><a href="#conclusion">Conclusion</a></li>
</ul>
</div>
<div class="sect1">
<h2 id="introduction">Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Welcome to the Service Foundry Installation Guide tailored specifically for AWS users. This guide walks you through setting up Service Foundry using AWS Cloud Shell and an existing Amazon EKS cluster. Whether you&#8217;re new to Kubernetes or familiar with cloud-native tools, this guide simplifies the process into manageable steps.</p>
</div>
<div class="sect2">
<h3 id="what-youll-need">What You&#8217;ll Need</h3>
<div class="ulist">
<ul>
<li>
<p>An AWS account with permissions to manage EKS clusters and related services.</p>
</li>
<li>
<p>A running EKS cluster (or use this guide to create one).</p>
</li>
<li>
<p>Familiarity with AWS Cloud Shell, Git, and basic Kubernetes concepts.</p>
</li>
<li>
<p>A GitHub account to store configuration files for GitOps workflows.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="installation-overview">Installation Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You will go through the following steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Set up AWS Cloud Shell</p>
</li>
<li>
<p>Create or use an existing EKS cluster</p>
</li>
<li>
<p>Connect kubectl to your EKS cluster</p>
</li>
<li>
<p>Create and configure a GitHub repository for GitOps</p>
</li>
<li>
<p>Download and configure bootstrap scripts</p>
</li>
<li>
<p>Set up environment variables</p>
</li>
<li>
<p>Run the bootstrap script to install Service Foundry</p>
</li>
<li>
<p>Configure DNS (optional, but recommended)</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="step-1-set-up-aws-cloud-shell">Step 1: Set Up AWS Cloud Shell</h2>
<div class="sectionbody">
<div class="paragraph">
<p>AWS Cloud Shell is a browser-based command line environment with AWS CLI, kubectl, jq, and Git pre-installed. It&#8217;s ideal for running scripts and managing AWS infrastructure.</p>
</div>
<div class="paragraph">
<p>Useful resources:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://nsalexamy.github.io/service-foundry/pages/documents/blog/aws-cloud-shell/">Cloud Shell Setup Guide</a></p>
</li>
<li>
<p><a href="https://nsalexamy.github.io/service-foundry/pages/documents/blog/aws-cloud-shell/persist-custom-software-installations.html">Persist Software in Cloud Shell</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="install-cli-tools">Install CLI Tools</h3>
<div class="ulist">
<ul>
<li>
<p><strong>AWS CLI</strong>: Pre-installed</p>
</li>
<li>
<p><strong>kubectl</strong>: Pre-installed</p>
</li>
<li>
<p><strong>Git</strong>: Pre-installed. (configure SSH access)</p>
</li>
<li>
<p><strong>jq</strong>: Pre-installed</p>
</li>
<li>
<p><strong>Helm</strong>: Install manually</p>
</li>
<li>
<p><strong>yq</strong>: Install manually</p>
</li>
<li>
<p><strong>eksctl</strong>: Install if you want to create a cluster</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To persist tools across sessions, install them to $HOME/bin and ensure it&#8217;s in your PATH.</p>
</div>
<div class="paragraph">
<p>Here, you can see how big the installed tools are:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span><span class="nb">ls</span> <span class="nt">-l</span> <span class="nt">--block-size</span><span class="o">=</span>M
total 203M
<span class="nt">-rwxr-xr-x</span><span class="nb">.</span> 1 cloudshell-user cloudshell-user 144M Nov 27 04:35 eksctl
<span class="nt">-rwxr-xr-x</span><span class="nb">.</span> 1 cloudshell-user cloudshell-user  49M Feb 21  2024 helm
<span class="nt">-rwxr-xr-x</span><span class="nb">.</span> 1 cloudshell-user cloudshell-user  11M Nov 24 23:59 yq</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you need to free up space, you can install tools in /usr/local/bin for temporary use.
This document shows how to install them in $HOME/bin for persistent use.</p>
</div>
</div>
<div class="sect2">
<h3 id="configure-ssh-access-for-github">Configure SSH Access for GitHub</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Generate an SSH key:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>$ mkdir -p ~/.ssh
$ ssh-keygen -t rsa -b 4096 -C "your-github-email" -f ~/.ssh/id_rsa</pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Add GitHub’s host key:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>$ ssh-keyscan github.com &gt;&gt; ~/.ssh/known_hosts</pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Add the public key to GitHub &gt; Settings &gt; SSH and GPG Keys.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="add-homebin-to-path">Add $HOME/bin to PATH</h3>
<div class="listingblock">
<div class="title">Check if $HOME/bin is already in your PATH:</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span><span class="nb">echo</span> <span class="nv">$PATH</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">If it’s not included, add it manually:</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span><span class="nb">echo</span> <span class="s1">'export PATH=$HOME/bin:$PATH'</span> <span class="o">&gt;&gt;</span> <span class="nv">$HOME</span>/.bashrc
<span class="nv">$ </span><span class="nb">source</span> <span class="nv">$HOME</span>/.bashrc</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Then, create the directory (if it doesn’t already exist):</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span><span class="nb">mkdir</span> <span class="nt">-p</span> <span class="nv">$HOME</span>/bin</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="install-helm-yq-and-eksctl">Install Helm, yq, and eksctl</h3>
<div class="paragraph">
<p>Install each CLI in $HOME/bin with the following commands:</p>
</div>
<div class="listingblock">
<div class="title">Install Helm</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span>curl <span class="nt">-L</span> https://get.helm.sh/helm-v3.14.2-linux-amd64.tar.gz <span class="nt">-o</span> helm.tar.gz
<span class="nv">$ </span><span class="nb">tar</span> <span class="nt">-zxvf</span> helm.tar.gz
<span class="nv">$ </span><span class="nb">mv </span>linux-amd64/helm ~/bin/
<span class="nv">$ </span><span class="nb">rm</span> <span class="nt">-rf</span> helm.tar.gz linux-amd64</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Verify Helm installation:</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span>helm version</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Install yq</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span>wget https://github.com/mikefarah/yq/releases/latest/download/yq_linux_amd64 <span class="nt">-O</span> ~/bin/yq
<span class="nv">$ </span><span class="nb">chmod</span> +x ~/bin/yq</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Verify yq installation:</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span>yq <span class="nt">--version</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Install eksctl</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span>curl <span class="nt">--silent</span> <span class="nt">--location</span> <span class="s2">"https://github.com/eksctl-io/eksctl/releases/latest/download/eksctl_</span><span class="si">$(</span><span class="nb">uname</span> <span class="nt">-s</span><span class="si">)</span><span class="s2">_amd64.tar.gz"</span> <span class="se">\</span>
  <span class="nt">-o</span> eksctl.tar.gz
<span class="nv">$ </span><span class="nb">tar</span> <span class="nt">-xzf</span> eksctl.tar.gz
<span class="nv">$ </span><span class="nb">mv </span>eksctl <span class="nv">$HOME</span>/bin/
<span class="nv">$ </span><span class="nb">rm</span> <span class="nt">-rf</span> eksctl.tar.gz</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Verify eksctl installation:</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span>eksctl version</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="step-2-create-an-eks-cluster-optional">Step 2: Create an EKS Cluster (Optional)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Use the create-eks.sh script from the cloud-tools repo to create an optimized EKS cluster for Service Foundry:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span>git clone https://github.com/nsalexamy/cloud-tools.git
<span class="nv">$ </span><span class="nb">cd </span>cloud-tools/aws/eks</code></pre>
</div>
</div>
<div class="paragraph">
<p>Set required environment variables:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span><span class="nb">export </span><span class="nv">EKS_CLUSTER_NAME</span><span class="o">=</span><span class="s2">"my-cluster"</span>
<span class="nv">$ </span><span class="nb">export </span><span class="nv">AWS_ACCOUNT_ID</span><span class="o">=</span><span class="si">$(</span>aws sts get-caller-identity <span class="nt">--query</span> Account <span class="nt">--output</span> text<span class="si">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The default settings in 'create-eks.sh' are optimized for Service Foundry. You can modify them as needed.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>EKS_NODE_MIN</strong>: Minimum number of nodes in the node group (default: 2)</p>
</li>
<li>
<p><strong>EKS_NODE_MAX</strong>: Maximum number of nodes in the node group (default: 4)</p>
</li>
<li>
<p><strong>EKS_NODE_DESIRED</strong>: Desired number of nodes in the node group (default: 2)</p>
</li>
<li>
<p><strong>EKS_NODE_TYPE</strong>: EC2 instance type for the nodes (default: t3a.xlarge)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Run the script:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span>./create-eks.sh</code></pre>
</div>
</div>
<div class="paragraph">
<p>Verify the cluster is up and running:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span>kubectl get nodes</code></pre>
</div>
</div>
<div class="paragraph">
<p>To clean up:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span>./delete-eks.sh</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="step-3-configure-kubectl-for-the-eks-cluster">Step 3: Configure kubectl for the EKS Cluster</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If using create-eks.sh, this is already done. Otherwise:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span>aws eks update-kubeconfig <span class="nt">--region</span> <span class="nv">$AWS_REGION</span> <span class="nt">--name</span> <span class="nv">$EKS_CLUSTER_NAME</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Verify the connection:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span>kubectl get nodes</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="step-4-create-github-repository-for-gitops">Step 4: Create GitHub Repository for GitOps</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Service Foundry uses GitOps principles for managing configurations and deployments. You need to create a GitHub repository to store the configuration files.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Go to GitHub and create a new repository.</p>
</li>
<li>
<p>Initialize the repository with a README file as GitHub suggests.</p>
</li>
<li>
<p>Add Deploy Keys so that Service Foundry can push changes to this repository.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="title">Create SSH Keys for GitHub Access</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span><span class="nb">mkdir</span> <span class="nt">-p</span> ~/service-foundry/gitops-ssh
<span class="nv">$ </span>ssh-keygen <span class="nt">-t</span> rsa <span class="nt">-b</span> 4096 <span class="nt">-C</span> <span class="s2">"your-github-email"</span> <span class="nt">-f</span> ~/service-foundry/gitops-ssh/id_rsa

<span class="c"># Copy the public key to add as a Deploy Key in GitHub</span>
<span class="nv">$ </span><span class="nb">cat</span> ~/service-foundry/gitops-ssh/id_rsa.pub</code></pre>
</div>
</div>
<div class="paragraph">
<p>Go to your GitHub repository &#8594; Settings &#8594; Deploy Keys &#8594; Add deploy key. Paste the public key you generated above. Make sure to check "Allow write access" so that Service Foundry can push changes to the repository.</p>
</div>
<div class="imageblock img-wide">
<div class="content">
<img src="images/github-deploy-key.png" alt="github deploy key">
</div>
</div>
<div class="paragraph">
<p>The private key will be used later during the Service Foundry installation as an environment variable named <strong>GIT_OPS_REPO_SSH_KEY_PATH</strong>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="step-5-download-bootstrap-scripts">Step 5: Download Bootstrap Scripts</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Follow these steps to download the bootstrap scripts and install Service Foundry on your EKS cluster.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create the Community Edition license key.</p>
</li>
<li>
<p>Fill out the form to download the bootstrap scripts.</p>
</li>
<li>
<p>Upload the bootstrap script zip file to AWS Cloud Shell.</p>
</li>
<li>
<p>Set Environment Variables</p>
</li>
<li>
<p>Unzip the downloaded file in AWS Cloud Shell.</p>
</li>
<li>
<p>Run the Bootstrap Script to Install Service Foundry</p>
</li>
</ol>
</div>
<div class="sect2">
<h3 id="create-a-community-edition-license-key">Create a Community Edition License Key</h3>
<div class="paragraph">
<p>Navigate to the Service Foundry Community website to get the latest bootstrap scripts. You can get the license key for Community Edition during this step.</p>
</div>
<div class="paragraph">
<p><a href="https://community.servicefoundry.org/" class="bare">https://community.servicefoundry.org/</a></p>
</div>
<div class="imageblock img-wide">
<div class="content">
<img src="images/community-home.png" alt="community home">
</div>
<div class="title">Figure 1. Navigate to the Service Foundry Community Website</div>
</div>
<div class="paragraph">
<p>Click on "Community License" to create a new license key.</p>
</div>
<div class="imageblock img-wide">
<div class="content">
<img src="images/community-license.png" alt="community license">
</div>
<div class="title">Figure 2. Community License Form</div>
</div>
<div class="paragraph">
<p>Fill out the fields below:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Customer Name</strong>: Use Your Email Address or Your Organization Name</p>
</li>
<li>
<p><strong>Installation ID</strong>: Use your Kubenetes Cluster Name</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Click on "<strong>Generate License</strong>" to create the license key.</p>
</div>
<div class="imageblock img-wide">
<div class="content">
<img src="images/community-license-generate.png" alt="community license generate">
</div>
<div class="title">Figure 3. Generated License Key</div>
</div>
<div class="paragraph">
<p>Copy the generated license key, as you will need it for the bootstrap script generation.</p>
</div>
</div>
<div class="sect2">
<h3 id="fill-out-the-form-to-download-bootstrap-scripts">Fill out the Form to Download Bootstrap Scripts</h3>
<div class="paragraph">
<p>Click on "Bootstrap Scripts" to access the download form.</p>
</div>
<div class="imageblock img-wide">
<div class="content">
<img src="images/community-bootstrap-scripts.png" alt="community bootstrap scripts">
</div>
<div class="title">Figure 4. Bootstrap Scripts Form</div>
</div>
<div class="sect3">
<h4 id="component-versions">Component Versions</h4>
<div class="ulist">
<ul>
<li>
<p><strong>Service foundry App Version</strong>: Select the latest stable version.</p>
</li>
<li>
<p><strong>Service Foundry Builder Version</strong>: Select the latest stable version.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="cloud-provider">Cloud Provider</h4>
<div class="ulist">
<ul>
<li>
<p><strong>Cloud Provider</strong>: Select "AWS". As of now, only AWS is supported.</p>
</li>
<li>
<p><strong>AWS Account ID</strong>: Enter your AWS Account ID where the EKS cluster is created.</p>
</li>
<li>
<p><strong>AWS Region</strong>: Enter the AWS region where the EKS cluster is located (e.g., us-west-2).</p>
</li>
<li>
<p><strong>Kubernetes Cluster Name</strong>: Enter the name of your EKS cluster.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="core-configuration">Core Configuration</h4>
<div class="ulist">
<ul>
<li>
<p><strong>Service Foundry Namespace</strong>: Default is "service-foundry". You can change it if needed.</p>
</li>
<li>
<p><strong>GitOps Repository URL</strong>: Enter the SSH URL of the GitHub repository you created earlier.</p>
</li>
<li>
<p><strong>GitOps Repository Branch</strong>: Default is "main". Change it if your repository uses a different branch.</p>
</li>
<li>
<p><strong>GitOps User Email</strong>: Enter your email address that will be used for Git commits.</p>
</li>
<li>
<p><strong>Root Domain Name</strong>: Enter your domain name if you have one. If not, use arbitrary value for testing purposes (e.g., your-domain.com).</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="load-balancer-configuration">Load Balancer Configuration</h4>
<div class="ulist">
<ul>
<li>
<p><strong>Use TLS</strong>: Leave it unchecked for now.</p>
</li>
<li>
<p><strong>Use AWS ACM</strong>: Leave it unchecked for now.</p>
</li>
<li>
<p><strong>ACM Certificate ARN</strong>: Leave it blank for now.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="secrets">Secrets</h4>
<div class="ulist">
<ul>
<li>
<p><strong>POSTGRES_PASSWORD</strong>: Enter a strong password for the PostgreSQL database.</p>
</li>
<li>
<p><strong>REDIS_PASSWORD</strong>: Enter a strong password for the Redis instance.</p>
</li>
<li>
<p><strong>The devops User Password</strong>: Enter a strong password for the DevOps user. This user is used to access the Service Foundry Admin Console.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="license">License</h4>
<div class="ulist">
<ul>
<li>
<p><strong>License Payload</strong>: Paste the Community Edition license key you generated earlier.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="download-bootstrap-scripts">Download Bootstrap Scripts</h4>
<div class="paragraph">
<p>Click on "<strong>Generate Bootstrap Scripts</strong>" to download the zip file containing the bootstrap scripts.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="upload-the-bootstrap-script-zip-file-to-aws-cloud-shell">Upload the Bootstrap Script Zip File to AWS Cloud Shell</h3>
<div class="paragraph">
<p>On the AWS Cloud Shell interface, click on the "Actions" menu (three vertical dots) in the top-right corner and select "Upload file".</p>
</div>
<div class="imageblock img-wide">
<div class="content">
<img src="images/aws-cloudshell-upload-file.png" alt="aws cloudshell upload file">
</div>
<div class="title">Figure 5. Upload File in AWS Cloud Shell</div>
</div>
<div class="paragraph">
<p>Select the downloaded <strong>bootstrap-scripts.zip</strong> file from your local machine to upload it to AWS Cloud Shell.</p>
</div>
<div class="paragraph">
<p>Then you will see the uploaded file in your Cloud Shell home directory.</p>
</div>
<div class="paragraph">
<p>Verify that <strong>bootstrap.sh</strong> is present:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span><span class="nb">ls</span> <span class="nt">-l</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="step-6-set-environment-variables">Step 6: Set Environment Variables</h3>
<div class="listingblock">
<div class="title">Set the GitOps SSH key path:</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span><span class="nb">export </span><span class="nv">GIT_OPS_REPO_SSH_KEY_PATH</span><span class="o">=</span><span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/service-foundry/gitops-ssh/id_rsa"</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="step-7-run-the-bootstrap-script">Step 7: Run the Bootstrap Script</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Unzip and run the bootstrap script:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span><span class="nb">mkdir</span> ~/service-foundry
<span class="nv">$ </span><span class="nb">mv </span>bootstrap-scripts.zip ~/service-foundry/
<span class="nv">$ </span><span class="nb">cd</span> ~/service-foundry
<span class="nv">$ </span>unzip bootstrap-scripts.zip</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span>./bootstrap.sh</code></pre>
</div>
</div>
<div class="paragraph">
<p>The bootstrap script will install all required components with the settings you provided. This process may take some time, depending on your internet connection and AWS resources.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="step-8-dns-configuration-optional">Step 8: DNS Configuration (Optional)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We recommend using a public DNS name for accessing Service Foundry. If you do not have a domain name, you can use the hosts file for testing purposes.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>sfapp.your-domain.com</p>
</li>
<li>
<p>oauth2-proxy.your-domain.com</p>
</li>
<li>
<p>grafana.your-domain.com (if O11y is enabled)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Use the IP address of the Traffic Load Balancer created during the installation.</p>
</div>
<div class="listingblock">
<div class="title">Get the IP Address of the Traffic Load Balancer</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span>kubectl <span class="nt">-n</span> traefik get svc traefik

<span class="nv">$ </span>ping &lt;LOAD_BALANCER_DNS_NAME&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Sample hosts file entry:</p>
</div>
<div class="paragraph">
<p>This should be added to your local machine&#8217;s hosts file (e.g., /etc/hosts on Linux/Mac or C:\Windows\System32\drivers\etc\hosts on Windows).</p>
</div>
<div class="listingblock">
<div class="title">/etc/hosts on Linux/Mac</div>
<div class="content">
<pre>12.34.12.34 sfapp.your-domain.com oauth2-proxy.your-domain.com grafana.your-domain.com</pre>
</div>
</div>
<div class="paragraph">
<p>'12.34.12.34' should be replaced with the actual IP address of the Traffic Load Balancer.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="load-balancers">Load Balancers</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Service Foundry creates two Load Balancers:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Traffic Load Balancer (always created).</p>
</li>
<li>
<p>Keycloak Load Balancer (only if public domain and TLS not configured).</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="access-service-foundry">Access Service Foundry</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Use the URL:</p>
</div>
<div class="paragraph">
<p><a href="http://sfapp.your-domain.com" class="bare">http://sfapp.your-domain.com</a></p>
</div>
<div class="paragraph">
<p>Log in using the devops user and password you configured.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="conclusion">Conclusion</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You’ve now successfully installed Service Foundry on AWS using Cloud Shell and EKS. With GitOps integration and a modular setup, you’re ready to deploy Kubernetes-native services quickly and securely.</p>
</div>
</div>
</div>
        </div>
    </main>
</div>




<script>
    const toc = document.getElementById('toc');
    const container = document.getElementById('toc-container');
    if (toc && container) {
        container.appendChild(toc);
    }
</script>


<!--<button onclick="toggleTheme()" style="position: fixed; bottom: 1rem; right: 1rem; padding: 0.5rem 1rem; background-color: var(&#45;&#45;link); color: white; border: none; border-radius: 0.375rem; cursor: pointer;">-->
<!--    Toggle Theme-->
<!--</button>-->

<!--<script>-->
<!--    function toggleTheme() {-->
<!--        const html = document.documentElement;-->
<!--        const isDark = html.getAttribute("data-theme") === "dark";-->
<!--        html.setAttribute("data-theme", isDark ? "light" : "dark");-->
<!--        localStorage.setItem("theme", isDark ? "light" : "dark");-->
<!--    }-->

<!--    document.addEventListener("DOMContentLoaded", () => {-->
<!--        const savedTheme = localStorage.getItem("theme") || "light";-->
<!--        document.documentElement.setAttribute("data-theme", savedTheme);-->
<!--    });-->
<!--</script>-->

<!-- Footer -->
<footer class="bg-gray-900 text-white text-sm py-6 text-center">
    © 2025 Service Foundry. All rights reserved.
</footer>
</body>
</html>
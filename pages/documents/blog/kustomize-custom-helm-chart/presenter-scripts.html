<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Presenter Scripts: Using Kustomize With Custom Helm Charts for ArgoCD</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
        body {
            font-family: sans-serif;
            background-color: #f8fafc;
            color: #1f2937;
            margin: 0;
            padding: 0;
        }
    </style>
    
</head>
<body>
<div id="toc" class="toc">
<div id="toctitle">On this page</div>
<ul class="sectlevel1">
<li><a href="#youtube-publishing-metadata">YouTube Publishing Metadata</a>
<ul class="sectlevel2">
<li><a href="#youtube-title">YouTube Title</a></li>
<li><a href="#youtube-description">YouTube Description</a></li>
<li><a href="#youtube-tags">YouTube Tags</a></li>
</ul>
</li>
<li><a href="#linkedin-publishing-metadata">LinkedIn Publishing Metadata</a>
<ul class="sectlevel2">
<li><a href="#linkedin-post-summary">LinkedIn Post Summary</a></li>
<li><a href="#linkedin-tagshashtags">LinkedIn Tags/Hashtags</a></li>
<li><a href="#linkedin-article-title-if-publishing-as-article">LinkedIn Article Title (if publishing as article)</a></li>
<li><a href="#linkedin-article-summary-if-publishing-as-article">LinkedIn Article Summary (if publishing as article)</a></li>
</ul>
</li>
<li><a href="#video-structure">Video Structure</a></li>
<li><a href="#segment-1-introduction-1-minute">SEGMENT 1: Introduction (1 minute)</a></li>
<li><a href="#segment-2-what-were-building-2-minutes">SEGMENT 2: What We&#8217;re Building (2 minutes)</a></li>
<li><a href="#segment-3-prerequisites-quick-check-30-seconds">SEGMENT 3: Prerequisites Quick Check (30 seconds)</a></li>
<li><a href="#segment-4-understanding-the-gitops-repository-structure-2-minutes">SEGMENT 4: Understanding the GitOps Repository Structure (2 minutes)</a></li>
<li><a href="#segment-5-the-ecr-challenge-and-solution-2-minutes">SEGMENT 5: The ECR Challenge and Solution (2 minutes)</a></li>
<li><a href="#segment-6-the-sealed-secrets-challenge-3-minutes">SEGMENT 6: The Sealed Secrets Challenge (3 minutes)</a></li>
<li><a href="#segment-7-configuring-the-dev-environment-3-minutes">SEGMENT 7: Configuring the Dev Environment (3 minutes)</a></li>
<li><a href="#segment-8-argocd-applications-two-approaches-3-minutes">SEGMENT 8: ArgoCD Applications - Two Approaches (3 minutes)</a></li>
<li><a href="#segment-9-deploying-everything-2-minutes">SEGMENT 9: Deploying Everything (2 minutes)</a></li>
<li><a href="#segment-10-conclusion-and-next-steps-1-5-minutes">SEGMENT 10: Conclusion and Next Steps (1.5 minutes)</a></li>
<li><a href="#production-notes">Production Notes</a>
<ul class="sectlevel2">
<li><a href="#pacing-guidelines">Pacing Guidelines</a></li>
<li><a href="#visual-requirements">Visual Requirements</a></li>
<li><a href="#b-roll-suggestions">B-Roll Suggestions</a></li>
<li><a href="#editing-notes">Editing Notes</a></li>
<li><a href="#chapter-timestamps-for-youtube-description">Chapter Timestamps (for YouTube description)</a></li>
</ul>
</li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<hr>
</div>
</div>
<div class="sect1">
<h2 id="youtube-publishing-metadata">YouTube Publishing Metadata</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="youtube-title">YouTube Title</h3>
<div class="paragraph">
<p><strong>Option 1 (Concise):</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre>Deploy Multi-Environment Apps with Kustomize, Helm &amp; ArgoCD | GitOps Tutorial</pre>
</div>
</div>
<div class="paragraph">
<p><strong>Option 2 (Descriptive):</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre>How to Deploy Apps to Dev, Staging &amp; Prod using Kustomize + Helm + ArgoCD</pre>
</div>
</div>
<div class="paragraph">
<p><strong>Option 3 (Problem-Focused):</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre>Multi-Environment Kubernetes Deployments: Kustomize + Helm + ArgoCD Complete Guide</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="youtube-description">YouTube Description</h3>
<div class="listingblock">
<div class="content">
<pre>Learn how to deploy the same Kubernetes application to multiple environments (dev, staging, prod) using Kustomize, Helm, and ArgoCD in this comprehensive GitOps tutorial.

üéØ What You'll Learn:
‚Ä¢ Pull and use custom Helm charts from private AWS ECR registry
‚Ä¢ Create environment-specific configurations with Kustomize overlays
‚Ä¢ Manage secrets securely with Bitnami SealedSecrets
‚Ä¢ Set up ArgoCD Applications for automated GitOps deployments
‚Ä¢ Use ArgoCD ApplicationSets to manage multiple environments efficiently

‚è±Ô∏è Timestamps:
0:00 - Introduction
1:00 - What We're Building
3:00 - Prerequisites
3:30 - GitOps Repository Structure
5:30 - The ECR Challenge and Solution
7:30 - The Sealed Secrets Challenge
10:30 - Configuring the Dev Environment
13:30 - ArgoCD Applications - Two Approaches
16:30 - Deploying Everything
18:30 - Conclusion and Next Steps

üîó Resources:
üìù Written Guide: https://nsalexamy.github.io/service-foundry/pages/documents/blog/kustomize-custom-helm-chart/
üíª GitHub Repo: [Add your repo URL]
üì∫ Previous Video - Creating Custom Helm Charts: https://youtu.be/mGtIVDMaUkg

üìö Documentation Links:
‚Ä¢ Kustomize: https://kustomize.io/
‚Ä¢ ArgoCD: https://argo-cd.readthedocs.io/
‚Ä¢ Sealed Secrets: https://github.com/bitnami-labs/sealed-secrets
‚Ä¢ Helm: https://helm.sh/

üéì What This Tutorial Covers:
This hands-on tutorial walks through a real-world multi-environment deployment scenario. You'll learn how to overcome the limitation of Kustomize not being able to access private OCI registries, understand why SealedSecrets are namespace-scoped, and implement a complete GitOps workflow using ArgoCD.

We'll deploy the Service Foundry Community application (a full-stack app with Go backend and React frontend) to three completely isolated environments with different configurations, sealed secrets, and hostnames.

üí° Key Takeaways:
‚úì Kustomize cannot access private OCI registries - use local charts
‚úì SealedSecrets are namespace-scoped - create separate secrets per environment
‚úì ApplicationSets reduce duplication across similar environments
‚úì GitOps ensures your cluster state always matches your Git repository

üè∑Ô∏è Topics Covered:
#Kubernetes #ArgoCD #Kustomize #Helm #GitOps #DevOps #CloudNative #CNCF #SealedSecrets #MultiEnvironment #CI/CD #InfrastructureAsCode

üë®‚Äçüíª About Service Foundry:
Service Foundry provides open-source tools and educational content for building cloud-native applications with Kubernetes.

üîî Subscribe for more Kubernetes, DevOps, and Cloud Native tutorials!

---

üí¨ Questions? Drop them in the comments below!
üëç If this helped you, please like and share!

#GitOps #KubernetesTutorial #ArgoCD #DevOps2024</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="youtube-tags">YouTube Tags</h3>
<div class="listingblock">
<div class="content">
<pre>Kustomize
ArgoCD
Helm
Kubernetes
GitOps
DevOps
Multi-environment deployment
Kubernetes tutorial
ArgoCD tutorial
Kustomize tutorial
Helm charts
SealedSecrets
Bitnami SealedSecrets
AWS ECR
Kubernetes secrets management
ApplicationSet
ArgoCD ApplicationSet
Cloud native
CNCF
Infrastructure as Code
IaC
Continuous deployment
CD pipeline
Kubernetes deployment
Dev staging prod
Environment management
Microservices
Container orchestration
Kubernetes best practices
GitOps workflow
Declarative deployment
Kubernetes automation
ArgoCD GitOps
Helm OCI
Traefik ingress
Kubernetes ingress
Multi-tenant Kubernetes
Namespace isolation
Kubernetes overlays
Kustomize overlays
Helm values
ConfigMap
Kubernetes ConfigMap
Service Foundry
Go backend
React frontend
Full-stack Kubernetes</pre>
</div>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="linkedin-publishing-metadata">LinkedIn Publishing Metadata</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="linkedin-post-summary">LinkedIn Post Summary</h3>
<div class="paragraph">
<p><strong>Option 1 (Professional &amp; Concise):</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre>üöÄ New Tutorial: Multi-Environment Kubernetes Deployments with GitOps

I just published a comprehensive guide on deploying applications to dev, staging, and production environments using Kustomize, Helm, and ArgoCD.

Key highlights:
‚úÖ Pull private Helm charts from AWS ECR for local use with Kustomize
‚úÖ Manage environment-specific configurations with Kustomize overlays
‚úÖ Secure secrets management with namespace-scoped SealedSecrets
‚úÖ Automated GitOps deployments with ArgoCD ApplicationSets

This tutorial solves real-world challenges like Kustomize's inability to access private OCI registries and explains why you need separate SealedSecrets per namespace.

Perfect for DevOps engineers, platform engineers, and anyone working with Kubernetes in production.

üé• Watch the full tutorial: [YouTube URL]
üìù Written guide: https://nsalexamy.github.io/service-foundry/pages/documents/blog/kustomize-custom-helm-chart/

#Kubernetes #DevOps #GitOps #ArgoCD #CloudNative #SRE</pre>
</div>
</div>
<div class="paragraph">
<p><strong>Option 2 (Story-Driven):</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre>üí° Ever struggled with deploying the same app to multiple Kubernetes environments?

I've been there. Managing separate configurations for dev, staging, and prod while keeping secrets secure and deployments automated is challenging.

In my latest tutorial, I walk through a complete GitOps workflow using:
‚Ä¢ Kustomize for environment-specific overlays
‚Ä¢ Helm for templating
‚Ä¢ ArgoCD for automated deployments
‚Ä¢ SealedSecrets for secure secret management

One of the trickiest parts? Kustomize can't access private OCI registries like AWS ECR. I show you exactly how to work around this limitation.

Another gotcha? SealedSecrets are namespace-scoped by design. I explain why this matters and how to properly structure your secrets.

By the end, you'll have three completely isolated environments, all managed from a single Git repository with full automation.

üéØ Who is this for?
Platform engineers, DevOps teams, and anyone running Kubernetes in production.

üîó Full tutorial and code: [links in comments]

What's your biggest challenge with multi-environment Kubernetes deployments? Share in the comments! üëá

#Kubernetes #DevOps #GitOps #ArgoCD #PlatformEngineering #CloudNative #CNCF</pre>
</div>
</div>
<div class="paragraph">
<p><strong>Option 3 (Quick &amp; Technical):</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre>üìΩÔ∏è New Deep Dive: Kustomize + Helm + ArgoCD for Multi-Environment Deployments

Just dropped a technical tutorial covering a complete GitOps setup for deploying to dev/staging/prod Kubernetes environments.

üîß Technical stack:
- Kustomize for environment overlays
- Helm for application packaging
- ArgoCD for GitOps automation
- SealedSecrets for secret encryption
- AWS ECR for chart storage
- Traefik for ingress routing

üéì You'll learn:
‚Ä¢ How to use private Helm charts with Kustomize (workaround for OCI registry limitation)
‚Ä¢ Proper SealedSecret namespace scoping
‚Ä¢ ArgoCD ApplicationSets for DRY multi-env management
‚Ä¢ Complete GitOps workflow from code to cluster

Real-world example using a full-stack application (Go backend + React frontend) deployed across three isolated namespaces.

Link in comments üëá

#GitOps #Kubernetes #ArgoCD #DevOps #SRE #CloudEngineering</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="linkedin-tagshashtags">LinkedIn Tags/Hashtags</h3>
<div class="paragraph">
<p><strong>Primary Tags (Use 3-5 in post):</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre>#Kubernetes
#DevOps
#GitOps
#ArgoCD
#CloudNative</pre>
</div>
</div>
<div class="paragraph">
<p><strong>Secondary Tags (Include in comments or vary across posts):</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre>#SRE
#PlatformEngineering
#CloudEngineering
#InfrastructureAsCode
#CNCF
#ContainerOrchestration
#Microservices
#ContinuousDeployment
#DevSecOps
#Kustomize
#Helm
#KubernetesTutorial
#TechTutorial
#LearnToCode
#SoftwareEngineering
#CloudComputing
#AWS
#EKS
#DevOpsTutorial
#AutomationEngineering</pre>
</div>
</div>
<div class="paragraph">
<p><strong>Industry/Company Tags:</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre>#TechEducation
#DeveloperTools
#OpenSource
#CloudTechnology
#EnterpriseIT
#DigitalTransformation</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="linkedin-article-title-if-publishing-as-article">LinkedIn Article Title (if publishing as article)</h3>
<div class="listingblock">
<div class="content">
<pre>Deploy Kubernetes Apps to Multiple Environments with Kustomize, Helm, and ArgoCD: A Complete GitOps Guide</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="linkedin-article-summary-if-publishing-as-article">LinkedIn Article Summary (if publishing as article)</h3>
<div class="listingblock">
<div class="content">
<pre>Learn how to build a production-ready multi-environment deployment system for Kubernetes using Kustomize, Helm, and ArgoCD. This comprehensive guide covers environment-specific configurations, secure secret management with SealedSecrets, and automated GitOps workflows. Perfect for DevOps engineers and platform teams managing development, staging, and production environments.</pre>
</div>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="video-structure">Video Structure</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This script is divided into segments for easy recording and editing.
Each segment includes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>[PAUSE]</strong> - Natural pause for breath or emphasis</p>
</li>
<li>
<p><strong>[SHOW: &#8230;&#8203;]</strong> - Visual cue for screen recording or graphics</p>
</li>
<li>
<p><strong>[TRANSITION]</strong> - Scene change or visual transition</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Estimated total video length: 15-20 minutes</p>
</div>
<hr>
</div>
</div>
<div class="sect1">
<h2 id="segment-1-introduction-1-minute">SEGMENT 1: Introduction (1 minute)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Hey everyone, welcome back to the channel!</p>
</div>
<div class="paragraph">
<p>Today, we&#8217;re tackling a really practical challenge that comes up in Kubernetes deployments all the time. [PAUSE] How do you deploy the same application to multiple environments&#8230;&#8203; like development, staging, and production&#8230;&#8203; using different configurations for each?</p>
</div>
<div class="paragraph">
<p>We&#8217;ll be combining three powerful tools: Kustomize, Helm, and ArgoCD. [PAUSE] By the end of this tutorial, you&#8217;ll have a complete GitOps workflow that automatically deploys your applications across all your environments.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s dive in!</p>
</div>
<hr>
</div>
</div>
<div class="sect1">
<h2 id="segment-2-what-were-building-2-minutes">SEGMENT 2: What We&#8217;re Building (2 minutes)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>So, what exactly are we building today?</p>
</div>
<div class="paragraph">
<p>We&#8217;ll be deploying the Service Foundry Community application. [PAUSE] This is a Helm chart I created in a previous video, and it contains two subcharts: a Go-based backend API and a React frontend application.</p>
</div>
<div class="paragraph">
<p>The interesting part is how we handle routing. [PAUSE] We&#8217;re using Traefik&#8217;s Ingress Route to direct traffic. Requests to slash API go to the backend, and everything else goes to the frontend. Pretty standard microservices pattern.</p>
</div>
<div class="paragraph">
<p>Now, this chart is stored in AWS E-C-R&#8230;&#8203; that&#8217;s Amazon&#8217;s container registry&#8230;&#8203; as an OCI artifact. [PAUSE] We&#8217;ll pull it down and use it with Kustomize.</p>
</div>
<div class="paragraph">
<p>By the end, we&#8217;ll have three live environments:
- Development at community dash dev dot service foundry dot org
- Staging at community dash staging dot service foundry dot org
- And production at community dot service foundry dot org</p>
</div>
<div class="paragraph">
<p>Each environment will have its own configuration, its own secrets, and be completely isolated.</p>
</div>
<hr>
</div>
</div>
<div class="sect1">
<h2 id="segment-3-prerequisites-quick-check-30-seconds">SEGMENT 3: Prerequisites Quick Check (30 seconds)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Before we start, make sure you have:</p>
</div>
<div class="paragraph">
<p>First, a Kubernetes cluster with ArgoCD installed. [PAUSE]</p>
</div>
<div class="paragraph">
<p>Second, the AWS CLI configured with access to E-C-R. [PAUSE]</p>
</div>
<div class="paragraph">
<p>Third, the Helm CLI installed. [PAUSE]</p>
</div>
<div class="paragraph">
<p>And finally, a basic understanding of Kubernetes, Helm, and Kustomize concepts.</p>
</div>
<div class="paragraph">
<p>If you need help with any of these, I&#8217;ll link to setup guides in the description below.</p>
</div>
<hr>
</div>
</div>
<div class="sect1">
<h2 id="segment-4-understanding-the-gitops-repository-structure-2-minutes">SEGMENT 4: Understanding the GitOps Repository Structure (2 minutes)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Let&#8217;s look at how we organize our GitOps repository.</p>
</div>
<div class="paragraph">
<p>At the top level, we have six directories. Let me walk you through each one.</p>
</div>
<div class="paragraph">
<p>First, the <strong>argocd</strong> folder. [PAUSE] This contains our ArgoCD Application manifests&#8230;&#8203; basically, the configurations that tell ArgoCD what to deploy and where.</p>
</div>
<div class="paragraph">
<p>Second, the <strong>base</strong> folder. [PAUSE] In this example, it&#8217;s actually empty, but you&#8217;d typically use this for shared resources across all environments. We&#8217;ll see why we&#8217;re not using it in a moment.</p>
</div>
<div class="paragraph">
<p>Third, <strong>chart dash home</strong>. [PAUSE] This is where our extracted Helm chart lives. All environments will reference this same chart.</p>
</div>
<div class="paragraph">
<p>Then we have three environment folders: <strong>dev</strong>, <strong>staging</strong>, and <strong>prod</strong>. [PAUSE] Each contains environment-specific configurations&#8230;&#8203; like hostnames, image versions, and secrets.</p>
</div>
<div class="paragraph">
<p>This structure follows a common Kustomize pattern. [PAUSE] You have a base&#8230;&#8203; though we&#8217;re not using it here&#8230;&#8203; and overlays for each environment.</p>
</div>
<hr>
</div>
</div>
<div class="sect1">
<h2 id="segment-5-the-ecr-challenge-and-solution-2-minutes">SEGMENT 5: The ECR Challenge and Solution (2 minutes)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Now, here&#8217;s an important limitation you need to know about.</p>
</div>
<div class="paragraph">
<p>Kustomize, when running inside ArgoCD, cannot directly access private OCI registries like AWS E-C-R. [PAUSE] This is a security and authentication limitation.</p>
</div>
<div class="paragraph">
<p>So how do we solve this?</p>
</div>
<div class="paragraph">
<p>We pull the chart once and commit it to our Git repository. [PAUSE] This approach has several benefits:</p>
</div>
<div class="paragraph">
<p>First, it works seamlessly with ArgoCD and Kustomize. [PAUSE]
Second, it ensures all environments use the exact same chart version. [PAUSE]
Third, it follows GitOps principles&#8230;&#8203; everything is in Git. [PAUSE]
And fourth, ArgoCD doesn&#8217;t need to authenticate with E-C-R at all.</p>
</div>
<div class="paragraph">
<p>Let me show you the commands.</p>
</div>
<div class="paragraph">
<p>First, we authenticate with E-C-R using the AWS CLI and Helm registry login:</p>
</div>
<div class="paragraph">
<p>aws ecr get-login-password, pipe to helm registry login with the username AWS.</p>
</div>
<div class="paragraph">
<p>Then we pull and extract the chart:</p>
</div>
<div class="paragraph">
<p>We use helm pull with the O-C-I protocol, specify our E-C-R URL, and most importantly, use the dash dash untar flag.</p>
</div>
<div class="paragraph">
<p>The untar flag is crucial. [PAUSE] Kustomize can&#8217;t work with tgz archives&#8230;&#8203; it needs the extracted directory structure.</p>
</div>
<hr>
</div>
</div>
<div class="sect1">
<h2 id="segment-6-the-sealed-secrets-challenge-3-minutes">SEGMENT 6: The Sealed Secrets Challenge (3 minutes)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Alright, let&#8217;s talk about secrets management. [PAUSE] This is where things get interesting.</p>
</div>
<div class="paragraph">
<p>You might think: "Why not create one sealed secret in the base folder and patch it for each environment?" [PAUSE] That sounds reasonable, right?</p>
</div>
<div class="paragraph">
<p>Well, that approach doesn&#8217;t work. [PAUSE] And understanding why is really important.</p>
</div>
<div class="paragraph">
<p>Sealed Secrets, by default, use what&#8217;s called "strict scope." [PAUSE] This means the encryption is bound to two things: the secret name AND the target namespace.</p>
</div>
<div class="paragraph">
<p>This is actually a security feature. [PAUSE] It prevents secrets from being accidentally&#8230;&#8203; or maliciously&#8230;&#8203; moved between namespaces.</p>
</div>
<div class="paragraph">
<p>So a Sealed Secret encrypted for the dev namespace literally cannot be decrypted in staging or prod. [PAUSE] The sealed-secrets controller will reject it.</p>
</div>
<div class="paragraph">
<p>The solution? [PAUSE] Create three separate sealed secrets, one for each environment.</p>
</div>
<div class="paragraph">
<p>Each secret is encrypted with its target namespace:
- service dash foundry dash license dash keys dash dev for the dev namespace
- service dash foundry dash license dash keys dash staging for staging
- And service dash foundry dash license dash keys dash prod for production</p>
</div>
<div class="paragraph">
<p>Yes, this means a bit of duplication, but it&#8217;s the secure way to do it. [PAUSE] And honestly, in practice, you&#8217;d typically have different secrets per environment anyway.</p>
</div>
<hr>
</div>
</div>
<div class="sect1">
<h2 id="segment-7-configuring-the-dev-environment-3-minutes">SEGMENT 7: Configuring the Dev Environment (3 minutes)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Now let&#8217;s dive into an actual environment configuration. [PAUSE] We&#8217;ll use dev as our example, but staging and prod follow the exact same pattern.</p>
</div>
<div class="paragraph">
<p>Each environment folder contains three files:</p>
</div>
<div class="paragraph">
<p>First, kustomization dot yaml&#8230;&#8203; the Kustomize configuration. [PAUSE]
Second, the environment-specific sealed secret. [PAUSE]
And third, the values file for Helm.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s look at the kustomization file.</p>
</div>
<div class="paragraph">
<p>At the top, we set the namespace to dev. [PAUSE] This means all resources will be deployed to the dev namespace.</p>
</div>
<div class="paragraph">
<p>Under resources, we include our dev-specific sealed secret.</p>
</div>
<div class="paragraph">
<p>Then comes the helmGlobals section. [PAUSE] This tells Kustomize where to find our Helm chart. We point it to dot dot slash chart dash home.</p>
</div>
<div class="paragraph">
<p>And finally, the helm-Charts section. [PAUSE] This is where we configure which chart to render and which values file to use.</p>
</div>
<div class="paragraph">
<p>We specify the chart name, the release name, the namespace, and point to our values dash dev dot yaml file.</p>
</div>
<div class="paragraph">
<p>Speaking of values&#8230;&#8203; let&#8217;s look at that file.</p>
</div>
<div class="paragraph">
<p>First, we set the global version. [PAUSE] This controls which version of our backend and frontend images get deployed. In this case, version zero point two point zero.</p>
</div>
<div class="paragraph">
<p>Next, the host. [PAUSE] This is the hostname for this environment&#8230;&#8203; community dash dev dot service-foundry dot org. This value gets used in our Ingress Route.</p>
</div>
<div class="paragraph">
<p>And finally, frontend configuration. [PAUSE] This is the runtime config for our React app. It includes the backend API endpoint, the app version, and the builder version.</p>
</div>
<div class="paragraph">
<p>Notice how the backend server URL matches our host with slash API. [PAUSE] This is how the frontend knows where to send API requests.</p>
</div>
<div class="paragraph">
<p>For staging and prod, we&#8217;d have values dash staging and values dash prod files with different hostnames, possibly different versions, and maybe other environment-specific settings.</p>
</div>
<hr>
</div>
</div>
<div class="sect1">
<h2 id="segment-8-argocd-applications-two-approaches-3-minutes">SEGMENT 8: ArgoCD Applications - Two Approaches (3 minutes)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Now we need to tell ArgoCD about our applications. [PAUSE] And there are two ways to do this.</p>
</div>
<div class="paragraph">
<p>Approach one: individual Application manifests. [PAUSE] You create a separate file for dev, staging, and prod. This gives you fine-grained control over each environment.</p>
</div>
<div class="paragraph">
<p>Approach two: an Application-Set. [PAUSE] This lets you manage all three environments with a single manifest. Very D-R-Y&#8230;&#8203; Don&#8217;t Repeat Yourself.</p>
</div>
<div class="paragraph">
<p>Let me show you both.</p>
</div>
<div class="paragraph">
<p>Here&#8217;s the dev Application manifest.</p>
</div>
<div class="paragraph">
<p>We give it a name and add a finalizer. [PAUSE] The finalizer ensures ArgoCD cleans up resources when the Application is deleted.</p>
</div>
<div class="paragraph">
<p>In the source section, we specify our Git repository URL, the branch&#8230;&#8203; main in this case&#8230;&#8203; and the path to our dev overlay.</p>
</div>
<div class="paragraph">
<p>The destination tells ArgoCD which cluster and namespace to deploy to. [PAUSE] The default server means "the cluster where ArgoCD is running."</p>
</div>
<div class="paragraph">
<p>And the sync-Policy is really important. [PAUSE] We enable automated syncing, which means ArgoCD will automatically deploy when it detects changes in Git.</p>
</div>
<div class="paragraph">
<p>Prune true means it&#8217;ll delete resources that are removed from Git. [PAUSE]
Self-Heal true means it&#8217;ll revert any manual changes back to the Git state. [PAUSE]
This is GitOps in action!</p>
</div>
<div class="paragraph">
<p>Now, the Application-Set approach.</p>
</div>
<div class="paragraph">
<p>Instead of three separate files, we define a list generator. [PAUSE] This is just an array with environment names and namespaces.</p>
</div>
<div class="paragraph">
<p>Then we have a template. [PAUSE] ArgoCD will render this template once for each item in our list.</p>
</div>
<div class="paragraph">
<p>See these double curly braces? [PAUSE] Those are template variables. They get replaced with env and namespace from our list.</p>
</div>
<div class="paragraph">
<p>So this one Application-Set manifest creates three Applications automatically:
- service dash foundry dash community dash dev
- service dash foundry dash community dash staging
- And service dash foundry dash community dash prod</p>
</div>
<div class="paragraph">
<p>Pretty cool, right? [PAUSE] Application-Sets are great when you have many similar environments.</p>
</div>
<hr>
</div>
</div>
<div class="sect1">
<h2 id="segment-9-deploying-everything-2-minutes">SEGMENT 9: Deploying Everything (2 minutes)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Alright, moment of truth! [PAUSE] Let&#8217;s deploy.</p>
</div>
<div class="paragraph">
<p>We have two options, just like with the manifests.</p>
</div>
<div class="paragraph">
<p>Option one: deploy just the dev environment first to test:</p>
</div>
<div class="paragraph">
<p>kubectl apply dash f argocd slash service dash foundry dash community dash dev dash application dot yaml</p>
</div>
<div class="paragraph">
<p>ArgoCD will now:
- Clone your Git repository
- Run Kustomize to render the dev overlay
- Execute Helm template rendering
- Create the sealed secret
- And deploy all resources to the dev namespace</p>
</div>
<div class="paragraph">
<p>After a few moments, you can view the application in the ArgoCD UI. [PAUSE] You&#8217;ll see the sync status, health status, and the complete resource tree.</p>
</div>
<div class="paragraph">
<p>And once everything is healthy, you can access the application at community dash dev dot service-foundry dot org.</p>
</div>
<div class="paragraph">
<p>There it is! [PAUSE] Our development environment running.</p>
</div>
<div class="paragraph">
<p>Option two: deploy all three environments at once using the Application-Set:</p>
</div>
<div class="paragraph">
<p>kubectl apply dash f argocd slash service dash foundry dash community dash application-set dot yaml</p>
</div>
<div class="paragraph">
<p>Now you&#8217;ll see all three applications in ArgoCD. [PAUSE] Each one is syncing and deploying to its respective namespace.</p>
</div>
<div class="paragraph">
<p>And we can access all three:
- Development
- Staging
- And production</p>
</div>
<div class="paragraph">
<p>Here&#8217;s production running at community dot service-foundry dot org.</p>
</div>
<div class="paragraph">
<p>Each environment is completely isolated with its own namespace, secrets, Helm values, and resources.</p>
</div>
<hr>
</div>
</div>
<div class="sect1">
<h2 id="segment-10-conclusion-and-next-steps-1-5-minutes">SEGMENT 10: Conclusion and Next Steps (1.5 minutes)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Let&#8217;s recap what we&#8217;ve accomplished today.</p>
</div>
<div class="paragraph">
<p>We pulled a custom Helm chart from AWS E-C-R and made it usable with Kustomize by extracting it locally.</p>
</div>
<div class="paragraph">
<p>We created environment-specific overlays with different hostnames, versions, and configurations.</p>
</div>
<div class="paragraph">
<p>We managed secrets securely using Sealed-Secrets with proper namespace scoping.</p>
</div>
<div class="paragraph">
<p>We set up ArgoCD Applications to automatically deploy and sync from Git.</p>
</div>
<div class="paragraph">
<p>And we used ArgoCD Application-Sets to manage multiple environments with a single manifest.</p>
</div>
<div class="paragraph">
<p>Here are the key takeaways:</p>
</div>
<div class="paragraph">
<p>One: Kustomize can&#8217;t access private OCI registries. Pull charts locally and commit them to Git.</p>
</div>
<div class="paragraph">
<p>Two: Sealed-Secrets are namespace-scoped. Create separate secrets for each namespace.</p>
</div>
<div class="paragraph">
<p>Three: Application-Sets reduce duplication and are great for managing similar applications across environments.</p>
</div>
<div class="paragraph">
<p>Four: This is GitOps in action. All configuration is versioned in Git, and ArgoCD ensures your cluster matches the desired state.</p>
</div>
<div class="paragraph">
<p>Here are some ways you can extend this setup:</p>
</div>
<div class="paragraph">
<p>Add more environments like Q-A or staging two. [PAUSE]
Implement promotion workflows using Git tags or branches. [PAUSE]
Add Helm hooks for database migrations. [PAUSE]
Configure ArgoCD notifications for Slack or email. [PAUSE]
Or implement progressive rollouts using ArgoCD&#8217;s sync waves.</p>
</div>
<div class="paragraph">
<p>I&#8217;ve linked all the resources in the description below, including the GitHub repo with all the code, the Kustomize docs, the ArgoCD docs, and the Sealed Secrets documentation.</p>
</div>
<div class="paragraph">
<p>If you found this helpful, please give it a thumbs up and subscribe for more Kubernetes and DevOps tutorials.</p>
</div>
<div class="paragraph">
<p>Drop a comment below if you have any questions or if there&#8217;s a topic you&#8217;d like me to cover next.</p>
</div>
<div class="paragraph">
<p>Thanks for watching, and I&#8217;ll see you in the next video!</p>
</div>
<hr>
</div>
</div>
<div class="sect1">
<h2 id="production-notes">Production Notes</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="pacing-guidelines">Pacing Guidelines</h3>
<div class="ulist">
<ul>
<li>
<p>Speak at a moderate pace (approximately 150-160 words per minute)</p>
</li>
<li>
<p>Pause at [PAUSE] markers for 0.5-1 second</p>
</li>
<li>
<p>Take a 2-3 second pause at [TRANSITION] markers</p>
</li>
<li>
<p>Technical terms (ECR, OCI, YAML) should be pronounced clearly</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="visual-requirements">Visual Requirements</h3>
<div class="ulist">
<ul>
<li>
<p>Have terminal ready with commands pre-typed for smooth demonstration</p>
</li>
<li>
<p>ArgoCD UI should be accessible in a browser</p>
</li>
<li>
<p>Have both individual Application files and ApplicationSet file ready to show</p>
</li>
<li>
<p>Prepare architecture diagrams for:</p>
<div class="ulist">
<ul>
<li>
<p>Overall system architecture</p>
</li>
<li>
<p>Kustomize + ECR limitation explanation</p>
</li>
<li>
<p>SealedSecret scope explanation</p>
</li>
<li>
<p>ApplicationSet template rendering</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="b-roll-suggestions">B-Roll Suggestions</h3>
<div class="ulist">
<ul>
<li>
<p>Kubernetes cluster dashboard</p>
</li>
<li>
<p>Git repository commits</p>
</li>
<li>
<p>ArgoCD sync animations</p>
</li>
<li>
<p>Application health checks transitioning from yellow to green</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="editing-notes">Editing Notes</h3>
<div class="ulist">
<ul>
<li>
<p>Add lower-third text labels for technical terms when first mentioned</p>
</li>
<li>
<p>Consider split-screen for comparing dev/staging/prod configurations</p>
</li>
<li>
<p>Use zoom-in effects when highlighting specific YAML sections</p>
</li>
<li>
<p>Add gentle background music (low volume) during code walkthroughs</p>
</li>
<li>
<p>Include chapter markers at each SEGMENT for YouTube&#8217;s timeline feature</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="chapter-timestamps-for-youtube-description">Chapter Timestamps (for YouTube description)</h3>
<div class="paragraph">
<p>0:00 - Introduction
1:00 - What We&#8217;re Building
3:00 - Prerequisites
3:30 - GitOps Repository Structure
5:30 - The ECR Challenge and Solution
7:30 - The Sealed Secrets Challenge
10:30 - Configuring the Dev Environment
13:30 - ArgoCD Applications - Two Approaches
16:30 - Deploying Everything
18:30 - Conclusion and Next Steps</p>
</div>
</div>
</div>
</div>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Automating Grafana Resource Provisioning with Helm Charts</title>
    <!-- rouge source highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css">
<!--    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">-->
    <link rel="stylesheet" href="/service-foundry/pages/assets/css/main.css">

    <!-- Highlight.js script -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <script>
        hljs.highlightAll();
    </script>
</head>
<body class="">

<!-- Header -->
<header>
<!--    <div class="logo text-xl font-semibold">Service Foundry</div>-->
    <a href="/service-foundry/pages/index.html" class="text-2xl font-semibold hover:text-teal-400">Service Foundry</a>
    <nav>
    
        
        <a href="/service-foundry/pages/getting-started/" class="">Getting Started</a>
    
        
        <a href="/service-foundry/pages/documents/" class="active">Docs</a>
    
        
        <a href="/service-foundry/pages/github/" class="">GitHub</a>
    
        
        <a href="/service-foundry/pages/developers/" class="">Developers</a>
    
        
        <a href="/service-foundry/pages/demo/" class="">Demo</a>
    
</nav>
</header>


    <!-- Sub-navigation for Foundries -->
    <div class="subnav">

    
    <a href="/service-foundry/pages/documents/blog/" class="">Blog</a>

    
    <a href="/service-foundry/pages/documents/infra-foundry/" class="">Infra</a>

    
    <a href="/service-foundry/pages/documents/sso-foundry/" class="">SSO</a>

    
    <a href="/service-foundry/pages/documents/o11y-foundry/" class="active">Observability</a>

    
    <a href="/service-foundry/pages/documents/backend-foundry/" class="">Backend</a>

    
    <a href="/service-foundry/pages/documents/bigdata-foundry/" class="">Big Data</a>

<!--    <a href="/service-foundry/pages/documents/infra-foundry/index-backup.html" class="text-gray-300 hover:text-white">Infra</a>-->
<!--    <a href="/service-foundry/pages/documents/sso-foundry/index-backup.html" class="text-gray-300 hover:text-white">SSO</a>-->
<!--    <a href="/service-foundry/pages/documents/o11y-foundry/index-backup.html" class="text-gray-300 hover:text-white">Observability</a>-->
<!--    <a href="/service-foundry/pages/documents/backend-foundry/index-backup.html" class="text-gray-300 hover:text-white">Backend</a>-->
<!--    <a href="/service-foundry/pages/documents/bigdata-foundry/index-backup.html" class="text-gray-300 hover:text-white">Big Data</a>-->
</div>





<!-- Breadcrumb -->

    <nav class="breadcrumb-wrapper">
    <ol class="breadcrumb">
        
        <li>
            
            <a href="/service-foundry/pages/">Home</a>
            
            
            <span class="separator">/</span>
            
        </li>
        
        <li>
            
            <a href="/service-foundry/pages/documents/">Docs</a>
            
            
            <span class="separator">/</span>
            
        </li>
        
        <li>
            
            <a href="/service-foundry/pages/documents/o11y-foundry/">Observability Foundry</a>
            
            
        </li>
        
    </ol>
</nav>





<!-- Main Layout -->
<div class="container">


    <nav id="toc-container" class="toc-nav"></nav>


    <main id="main-content">
        
        <div class="author-box">
            Young Gyu Kim
            &lt;<a href="mailto:credemol@gmail.com" style="color: #0d9488; text-decoration: none;">credemol@gmail.com</a>&gt;
        </div>
        

        <!-- Title -->
        
        <h1 class="page-title">
            Automating Grafana Resource Provisioning with Helm Charts
        </h1>
        

        <div class="asciidoc">
            <div id="toc" class="toc">
<div id="toctitle">On this page</div>
<ul class="sectlevel1">
<li><a href="#overview">Overview</a></li>
<li><a href="#grafana-datasources">Grafana Datasources</a>
<ul class="sectlevel2">
<li><a href="#key-capabilities">Key Capabilities</a></li>
<li><a href="#example-prometheus-datasource-configuration">Example: Prometheus Datasource Configuration</a></li>
</ul>
</li>
<li><a href="#grafana-dashboard-providers">Grafana Dashboard Providers</a>
<ul class="sectlevel2">
<li><a href="#key-capabilities-2">Key Capabilities</a></li>
<li><a href="#example-dashboard-provider-configuration">Example: Dashboard Provider Configuration</a></li>
</ul>
</li>
<li><a href="#grafana-dashboards">Grafana Dashboards</a>
<ul class="sectlevel2">
<li><a href="#key-capabilities-3">Key Capabilities</a></li>
<li><a href="#example-1-inline-json-dashboard-configuration">Example 1: Inline JSON Dashboard Configuration</a></li>
<li><a href="#example-2-using-a-configmap-to-load-dashboards">Example 2: Using a ConfigMap to Load Dashboards</a></li>
</ul>
</li>
<li><a href="#grafana-alerting">Grafana Alerting</a></li>
<li><a href="#contact-points">Contact Points</a>
<ul class="sectlevel2">
<li><a href="#key-capabilities-4">Key Capabilities</a></li>
<li><a href="#example-email-contact-point-configuration">Example: Email Contact Point Configuration</a></li>
</ul>
</li>
<li><a href="#alert-rules">Alert Rules</a>
<ul class="sectlevel2">
<li><a href="#key-capabilities-5">Key Capabilities</a></li>
<li><a href="#example-alert-rules-for-jvm-memory-and-cpu-usage">Example: Alert Rules for JVM Memory and CPU Usage</a></li>
</ul>
</li>
<li><a href="#conclusion">Conclusion</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="imageblock img-wide">
<div class="content">
<img src="images/provisioning-grafana-resources.png" alt="provisioning grafana resources">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="overview">Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This guide outlines how to provision Grafana resources using Helm charts in a Kubernetes environment. The following Grafana components are covered:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Datasources</p>
</li>
<li>
<p>Dashboard Providers</p>
</li>
<li>
<p>Dashboards</p>
</li>
<li>
<p>Alerting Contact Points</p>
</li>
<li>
<p>Alerting Rules</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more details on Grafana provisioning, refer to the official documentation:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://grafana.com/docs/grafana/latest/administration/provisioning/" class="bare">https://grafana.com/docs/grafana/latest/administration/provisioning/</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="grafana-datasources">Grafana Datasources</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A Grafana datasource defines how Grafana connects to external systems such as Prometheus, Elasticsearch, or MySQL to retrieve data for dashboards and panels.</p>
</div>
<div class="sect2">
<h3 id="key-capabilities">Key Capabilities</h3>
<div class="ulist">
<ul>
<li>
<p>Connect to external data sources</p>
</li>
<li>
<p>Configure authentication and access modes</p>
</li>
<li>
<p>Query and visualize metrics</p>
</li>
<li>
<p>Support various data source types (e.g., Prometheus, Loki)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="example-prometheus-datasource-configuration">Example: Prometheus Datasource Configuration</h3>
<div class="paragraph">
<p>Here, we will configure a Prometheus datasource for Grafana using a Helm chart. This datasource will be used to query metrics collected by Prometheus.</p>
</div>
<div class="listingblock">
<div class="title">values.yaml - datasources</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="yaml"><span class="na">datasources</span><span class="pi">:</span>
  <span class="na">datasources.yaml</span><span class="pi">:</span>
    <span class="na">apiVersion</span><span class="pi">:</span> <span class="m">1</span>
    <span class="na">datasources</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">o11y-prometheus</span>
      <span class="na">type</span><span class="pi">:</span> <span class="s">prometheus</span>
      <span class="na">url</span><span class="pi">:</span> <span class="s">http://prometheus:9090</span>
      <span class="na">uid</span><span class="pi">:</span> <span class="s">o11y-prometheus</span>
      <span class="c1"># Access mode - proxy (server in the UI) or direct (browser in the UI).</span>
      <span class="na">access</span><span class="pi">:</span> <span class="s">proxy</span>
      <span class="na">isDefault</span><span class="pi">:</span> <span class="kc">true</span></code></pre>
</div>
</div>
<div class="imageblock img-wide">
<div class="content">
<img src="images/grafana-datasources.png" alt="grafana datasources">
</div>
<div class="title">Figure 1. Grafana Datasource</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="grafana-dashboard-providers">Grafana Dashboard Providers</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Dashboard providers in Grafana enable you to load dashboards from files at startup. This allows dashboards to be managed declaratively, which is ideal for CI/CD pipelines or GitOps workflows.</p>
</div>
<div class="sect2">
<h3 id="key-capabilities-2">Key Capabilities</h3>
<div class="ulist">
<ul>
<li>
<p>Load dashboards automatically from JSON files</p>
</li>
<li>
<p>Group dashboards into folders</p>
</li>
<li>
<p>Control editability and deletion</p>
</li>
<li>
<p>Integrate with Infrastructure as Code tools</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="example-dashboard-provider-configuration">Example: Dashboard Provider Configuration</h3>
<div class="paragraph">
<p>The example below shows how to configure a dashboard provider in Grafana using a Helm chart. This configuration will load dashboards from a specified directory and make them available in Grafana.</p>
</div>
<div class="listingblock">
<div class="title">values.yaml - dashboardProviders</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="yaml"><span class="na">dashboardProviders</span><span class="pi">:</span>
  <span class="na">dashboardproviders.yaml</span><span class="pi">:</span>
    <span class="na">apiVersion</span><span class="pi">:</span> <span class="m">1</span>
    <span class="na">providers</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">default</span>
        <span class="na">orgId</span><span class="pi">:</span> <span class="m">1</span>
        <span class="na">folder</span><span class="pi">:</span> <span class="s1">'</span><span class="s">'</span>
        <span class="na">type</span><span class="pi">:</span> <span class="s">file</span>
        <span class="na">disableDeletion</span><span class="pi">:</span> <span class="kc">false</span>
        <span class="na">editable</span><span class="pi">:</span> <span class="kc">true</span>
        <span class="na">options</span><span class="pi">:</span>
          <span class="na">path</span><span class="pi">:</span> <span class="s">/var/lib/grafana/dashboards/default</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="grafana-dashboards">Grafana Dashboards</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Dashboards are visual interfaces that display data through panels such as graphs, tables, and gauges. They provide real-time observability and insights for developers and operators</p>
</div>
<div class="sect2">
<h3 id="key-capabilities-3">Key Capabilities</h3>
<div class="ulist">
<ul>
<li>
<p>Aggregate and visualize telemetry data</p>
</li>
<li>
<p>Organize data into panels and layouts</p>
</li>
<li>
<p>Share and reuse across teams</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="example-1-inline-json-dashboard-configuration">Example 1: Inline JSON Dashboard Configuration</h3>
<div class="paragraph">
<p>RAW_JSON is a JSON representation of a Grafana dashboard. The example below shows how to configure a dashboard in Grafana using a Helm chart. This configuration will load a dashboard from a JSON file and make it available in Grafana.</p>
</div>
<div class="listingblock">
<div class="title">values.yaml - dashboards</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="yaml"><span class="na">dashboards</span><span class="pi">:</span>
  <span class="c1"># default is the name of the dashboard provider</span>
  <span class="na">default</span><span class="pi">:</span>
    <span class="na">some-dashboard</span><span class="pi">:</span>
      <span class="na">json</span><span class="pi">:</span> <span class="pi">|</span>
        <span class="s">$RAW_JSON</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This way is more straightforward for simple dashboards, but it can become cumbersome for larger or more complex dashboards. In this document, we will focus on using ConfigMaps to manage Grafana dashboards, which is a more scalable approach.</p>
</div>
</div>
<div class="sect2">
<h3 id="example-2-using-a-configmap-to-load-dashboards">Example 2: Using a ConfigMap to Load Dashboards</h3>
<div class="paragraph">
<p>The example below shows how to configure a dashboard in Grafana using a Helm chart with the <code>dashboardConfigMaps</code> section. This configuration will load a dashboard from a ConfigMap and make it available in Grafana.</p>
</div>
<div class="listingblock">
<div class="title">values.yaml - dashboardConfigMaps</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="yaml"><span class="na">dashboardsConfigMaps</span><span class="pi">:</span>
  <span class="c1"># default is the name of the dashboard provider</span>
  <span class="c1"># grafana-default-dashboards is the name of the ConfigMap containing the dashboard JSON files</span>
  <span class="na">default</span><span class="pi">:</span> <span class="s">grafana-default-dashboards</span></code></pre>
</div>
</div>
<div class="sect3">
<h4 id="creating-the-configmap">Creating the ConfigMap</h4>
<div class="paragraph">
<p>Use the following command to generate a ConfigMap containing all dashboard JSON files:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>kubectl <span class="nt">-n</span> o11y create configmap grafana-default-dashboards <span class="nt">--from-file</span><span class="o">=</span>./dashboards/</code></pre>
</div>
</div>
<div class="paragraph">
<p>This command creates a ConfigMap named <code>grafana-default-dashboards</code> in the <code>o11y</code> namespace, containing all JSON files from the <code>./dashboards/</code> directory. Grafana will automatically load these dashboards when it starts.</p>
</div>
<details>
<summary class="title">View Details - jvm-memory-dashboard.json</summary>
<div class="content">
<div class="listingblock">
<div class="title">jvm-memory-dashboard.json</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="json"><span class="p">{</span><span class="w">
  </span><span class="nl">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"list"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"builtIn"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"datasource"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"grafana"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-- Grafana --"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"enable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"hide"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"iconColor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rgba(0, 211, 255, 1)"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Annotations &amp; Alerts"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dashboard"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"editable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fiscalYearStartMonth"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"graphTooltip"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
  </span><span class="nl">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="nl">"panels"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"collapsed"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"gridPos"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"h"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"w"</span><span class="p">:</span><span class="w"> </span><span class="mi">24</span><span class="p">,</span><span class="w">
        </span><span class="nl">"x"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"y"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="nl">"panels"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"JVM Metrics"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"row"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"datasource"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"prometheus"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"o11y-prometheus"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"fieldConfig"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"defaults"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"color"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"palette-classic"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nl">"custom"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"axisBorderShow"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"axisCenteredZero"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"axisColorMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"axisLabel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Memory(MB)"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"axisPlacement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"auto"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"barAlignment"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"barWidthFactor"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.6</span><span class="p">,</span><span class="w">
            </span><span class="nl">"drawStyle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"line"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillOpacity"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"gradientMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"none"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"hideFrom"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"legend"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
              </span><span class="nl">"tooltip"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
              </span><span class="nl">"viz"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"insertNulls"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lineInterpolation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"linear"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lineWidth"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pointSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
            </span><span class="nl">"scaleDistribution"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"linear"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"showPoints"</span><span class="p">:</span><span class="w"> </span><span class="s2">"auto"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"spanNulls"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"stacking"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"group"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"none"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"thresholdsStyle"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"off"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nl">"mappings"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
          </span><span class="nl">"thresholds"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"absolute"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"steps"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="nl">"color"</span><span class="p">:</span><span class="w"> </span><span class="s2">"green"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="nl">"color"</span><span class="p">:</span><span class="w"> </span><span class="s2">"red"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"overrides"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"__systemRef"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hideSeriesFrom"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"matcher"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"byNames"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"options"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"exclude"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"names"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                  </span><span class="s2">"otel-spring-example-57d5cc6b88-p6hj9"</span><span class="w">
                </span><span class="p">],</span><span class="w">
                </span><span class="nl">"prefix"</span><span class="p">:</span><span class="w"> </span><span class="s2">"All except:"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"readOnly"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"custom.hideFrom"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                  </span><span class="nl">"legend"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"tooltip"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"viz"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
                </span><span class="p">}</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"gridPos"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"h"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
        </span><span class="nl">"w"</span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w">
        </span><span class="nl">"x"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"y"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nl">"options"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"legend"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"calcs"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
          </span><span class="nl">"displayMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"list"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"placement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bottom"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"showLegend"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"tooltip"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"hideZeros"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"single"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"sort"</span><span class="p">:</span><span class="w"> </span><span class="s2">"none"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"pluginVersion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12.0.0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"targets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"editorMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"code"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"expr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sum by(pod) (jvm_memory_used_bytes{jvm_memory_type=</span><span class="se">\"</span><span class="s2">heap</span><span class="se">\"</span><span class="s2">} / (1024 * 1024))"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"legendFormat"</span><span class="p">:</span><span class="w"> </span><span class="s2">"__auto"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"range"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nl">"refId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"JVM Used Memory(MB)"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"timeseries"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"datasource"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"prometheus"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"o11y-prometheus"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"fieldConfig"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"defaults"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"color"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"palette-classic"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nl">"custom"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"axisBorderShow"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"axisCenteredZero"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"axisColorMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"axisLabel"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"axisPlacement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"auto"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"barAlignment"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"barWidthFactor"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.6</span><span class="p">,</span><span class="w">
            </span><span class="nl">"drawStyle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"line"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillOpacity"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"gradientMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"none"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"hideFrom"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"legend"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
              </span><span class="nl">"tooltip"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
              </span><span class="nl">"viz"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"insertNulls"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lineInterpolation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"linear"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lineWidth"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pointSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
            </span><span class="nl">"scaleDistribution"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"linear"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"showPoints"</span><span class="p">:</span><span class="w"> </span><span class="s2">"auto"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"spanNulls"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"stacking"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"group"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"none"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"thresholdsStyle"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"off"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nl">"mappings"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
          </span><span class="nl">"thresholds"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"absolute"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"steps"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="nl">"color"</span><span class="p">:</span><span class="w"> </span><span class="s2">"green"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="nl">"color"</span><span class="p">:</span><span class="w"> </span><span class="s2">"red"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"overrides"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"gridPos"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"h"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
        </span><span class="nl">"w"</span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w">
        </span><span class="nl">"x"</span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w">
        </span><span class="nl">"y"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"options"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"legend"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"calcs"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
          </span><span class="nl">"displayMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"list"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"placement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bottom"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"showLegend"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"tooltip"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"hideZeros"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"single"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"sort"</span><span class="p">:</span><span class="w"> </span><span class="s2">"none"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"pluginVersion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12.0.0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"targets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"datasource"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"prometheus"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"o11y-prometheus"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nl">"editorMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"code"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"expr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"(</span><span class="se">\n</span><span class="s2">                                      sum by(pod) (jvm_memory_used_bytes{jvm_memory_type=</span><span class="se">\"</span><span class="s2">heap</span><span class="se">\"</span><span class="s2">})</span><span class="se">\n</span><span class="s2">                                      /</span><span class="se">\n</span><span class="s2">                                      sum by(pod) (jvm_memory_limit_bytes{jvm_memory_type=</span><span class="se">\"</span><span class="s2">heap</span><span class="se">\"</span><span class="s2">})</span><span class="se">\n</span><span class="s2">                                    ) * 100"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"legendFormat"</span><span class="p">:</span><span class="w"> </span><span class="s2">"__auto"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"range"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nl">"refId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Java Memory Usage(%)"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"timeseries"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"datasource"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"prometheus"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"o11y-prometheus"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"fieldConfig"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"defaults"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"color"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"palette-classic"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nl">"custom"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"axisBorderShow"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"axisCenteredZero"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"axisColorMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"axisLabel"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"axisPlacement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"auto"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"barAlignment"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"barWidthFactor"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.6</span><span class="p">,</span><span class="w">
            </span><span class="nl">"drawStyle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"line"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillOpacity"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"gradientMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"none"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"hideFrom"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"legend"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
              </span><span class="nl">"tooltip"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
              </span><span class="nl">"viz"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"insertNulls"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lineInterpolation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"linear"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lineWidth"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pointSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
            </span><span class="nl">"scaleDistribution"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"linear"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"showPoints"</span><span class="p">:</span><span class="w"> </span><span class="s2">"auto"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"spanNulls"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"stacking"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"group"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"none"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"thresholdsStyle"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"off"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nl">"mappings"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
          </span><span class="nl">"thresholds"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"absolute"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"steps"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="nl">"color"</span><span class="p">:</span><span class="w"> </span><span class="s2">"green"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="nl">"color"</span><span class="p">:</span><span class="w"> </span><span class="s2">"red"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"overrides"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"gridPos"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"h"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
        </span><span class="nl">"w"</span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w">
        </span><span class="nl">"x"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"y"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
      </span><span class="nl">"options"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"legend"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"calcs"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
          </span><span class="nl">"displayMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"list"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"placement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bottom"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"showLegend"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"tooltip"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"hideZeros"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"single"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"sort"</span><span class="p">:</span><span class="w"> </span><span class="s2">"none"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"pluginVersion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12.0.0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"targets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"editorMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"code"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"expr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sum by (pod)(avg_over_time(jvm_cpu_recent_utilization_ratio[2m]))"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"legendFormat"</span><span class="p">:</span><span class="w"> </span><span class="s2">"__auto"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"range"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nl">"refId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Average CPU Utilization Ratio(2m)"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"timeseries"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"datasource"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"prometheus"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"o11y-prometheus"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"fieldConfig"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"defaults"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"color"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"palette-classic"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nl">"custom"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"axisBorderShow"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"axisCenteredZero"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"axisColorMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"axisLabel"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"axisPlacement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"auto"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"barAlignment"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"barWidthFactor"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.6</span><span class="p">,</span><span class="w">
            </span><span class="nl">"drawStyle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"line"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillOpacity"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"gradientMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"none"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"hideFrom"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"legend"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
              </span><span class="nl">"tooltip"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
              </span><span class="nl">"viz"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"insertNulls"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lineInterpolation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"linear"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lineWidth"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pointSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
            </span><span class="nl">"scaleDistribution"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"linear"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"showPoints"</span><span class="p">:</span><span class="w"> </span><span class="s2">"auto"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"spanNulls"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"stacking"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"group"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"none"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"thresholdsStyle"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"off"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nl">"mappings"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
          </span><span class="nl">"thresholds"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"absolute"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"steps"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="nl">"color"</span><span class="p">:</span><span class="w"> </span><span class="s2">"green"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="nl">"color"</span><span class="p">:</span><span class="w"> </span><span class="s2">"red"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"overrides"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"__systemRef"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hideSeriesFrom"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"matcher"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"byNames"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"options"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"exclude"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"names"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                  </span><span class="s2">"otel-spring-example-57d5cc6b88-gwkkr"</span><span class="w">
                </span><span class="p">],</span><span class="w">
                </span><span class="nl">"prefix"</span><span class="p">:</span><span class="w"> </span><span class="s2">"All except:"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"readOnly"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"custom.hideFrom"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                  </span><span class="nl">"legend"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"tooltip"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"viz"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
                </span><span class="p">}</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"gridPos"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"h"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
        </span><span class="nl">"w"</span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w">
        </span><span class="nl">"x"</span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w">
        </span><span class="nl">"y"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
      </span><span class="nl">"options"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"legend"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"calcs"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
          </span><span class="nl">"displayMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"list"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"placement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bottom"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"showLegend"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"tooltip"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"hideZeros"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"single"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"sort"</span><span class="p">:</span><span class="w"> </span><span class="s2">"none"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"pluginVersion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12.0.0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"targets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"editorMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"code"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"expr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sum by (pod)(jvm_thread_count)"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"legendFormat"</span><span class="p">:</span><span class="w"> </span><span class="s2">"__auto"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"range"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nl">"refId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Thread Count per Pod"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"timeseries"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"preload"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"schemaVersion"</span><span class="p">:</span><span class="w"> </span><span class="mi">41</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="nl">"templating"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"list"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"time"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"from"</span><span class="p">:</span><span class="w"> </span><span class="s2">"now-1h"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"now"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"timepicker"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
  </span><span class="nl">"timezone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"browser"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"JVM Metrics Dashboard"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2549ec10-8ff8-43b3-899b-9b88d0d62b7d"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">17</span><span class="w">
</span><span class="p">}</span></code></pre>
</div>
</div>
</div>
</details>
<div class="imageblock img-wide">
<div class="content">
<img src="images/grafana-dashboard.png" alt="grafana dashboard">
</div>
<div class="title">Figure 2. Grafana Dashboard</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="grafana-alerting">Grafana Alerting</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Grafanas unified alerting system enables you to define alert rules and notification channels declaratively.</p>
</div>
<div class="listingblock">
<div class="title">values.yaml - alerting structure</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="yaml"><span class="na">alerting</span><span class="pi">:</span>
  <span class="na">policies.yaml</span><span class="pi">:</span> <span class="pi">{}</span>
  <span class="na">rules.yaml</span><span class="pi">:</span> <span class="pi">{}</span>
  <span class="na">contactpoints.yaml</span><span class="pi">:</span> <span class="pi">{}</span>
  <span class="na">templates.yaml</span><span class="pi">:</span> <span class="pi">{}</span>
  <span class="na">mutetimes.yaml</span><span class="pi">:</span> <span class="pi">{}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This guide focuses on contactpoints.yaml and rules.yaml.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Unlike dashboards, alerting resources are typically not managed via ConfigMaps but instead provisioned directly from Helm values.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contact-points">Contact Points</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Contact points define how alerts are delivered to external systems such as email, Slack, or PagerDuty.</p>
</div>
<div class="sect2">
<h3 id="key-capabilities-4">Key Capabilities</h3>
<div class="ulist">
<ul>
<li>
<p>Define alert notification channels</p>
</li>
<li>
<p>Configure contact methods for teams or services</p>
</li>
<li>
<p>Enable alert routing and escalation</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="example-email-contact-point-configuration">Example: Email Contact Point Configuration</h3>
<div class="paragraph">
<p>The example below shows how to configure a contact point in Grafana using a Helm chart. This configuration will create an email contact point that sends notifications to a specified email address.</p>
</div>
<div class="listingblock">
<div class="title">values.yaml - contactpoints</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="yaml"><span class="na">alerting</span><span class="pi">:</span>
  <span class="na">contactpoints.yaml</span><span class="pi">:</span>
    <span class="na">apiVersion</span><span class="pi">:</span> <span class="m">1</span>
    <span class="na">contactPoints</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">orgId</span><span class="pi">:</span> <span class="m">1</span>
        <span class="na">name</span><span class="pi">:</span> <span class="s">service-operators</span>
        <span class="na">receivers</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="na">uid</span><span class="pi">:</span> <span class="s">cen4b1ckf03cwb</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">email</span>
            <span class="na">settings</span><span class="pi">:</span>
              <span class="na">addresses</span><span class="pi">:</span> <span class="s">nsalexamy@gmail.com</span>
              <span class="na">singleEmail</span><span class="pi">:</span> <span class="kc">false</span>
            <span class="na">disableResolveMessage</span><span class="pi">:</span> <span class="kc">false</span></code></pre>
</div>
</div>
<div class="imageblock img-wide">
<div class="content">
<img src="images/grafana-contactpoints.png" alt="grafana contactpoints">
</div>
<div class="title">Figure 3. Grafana ContactPoints</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="alert-rules">Alert Rules</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Alert rules define the logic and thresholds that determine when an alert should be triggered.</p>
</div>
<div class="sect2">
<h3 id="key-capabilities-5">Key Capabilities</h3>
<div class="ulist">
<ul>
<li>
<p>Monitor specific metrics using PromQL or expressions</p>
</li>
<li>
<p>Define thresholds for alerting</p>
</li>
<li>
<p>Trigger actions via contact points</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="example-alert-rules-for-jvm-memory-and-cpu-usage">Example: Alert Rules for JVM Memory and CPU Usage</h3>
<div class="paragraph">
<p>The example below shows how to configure alert rules in Grafana using a Helm chart. This configuration will create alert rules that monitor JVM memory usage and CPU utilization, triggering notifications when thresholds are exceeded.</p>
</div>
<div class="listingblock">
<div class="title">values.yaml - rules</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="yaml"><span class="c1"># in alerting section</span>
  <span class="na">rules.yaml</span><span class="pi">:</span>
    <span class="na">apiVersion</span><span class="pi">:</span> <span class="m">1</span>
    <span class="na">groups</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">orgId</span><span class="pi">:</span> <span class="m">1</span>
        <span class="na">name</span><span class="pi">:</span> <span class="s">java-metrics-evaluation</span>
        <span class="na">folder</span><span class="pi">:</span> <span class="s">java-metrics</span>
        <span class="na">interval</span><span class="pi">:</span> <span class="s">1m</span>
        <span class="na">rules</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="na">uid</span><span class="pi">:</span> <span class="s">een4b7bt3iu4gf</span>
            <span class="na">title</span><span class="pi">:</span> <span class="s">High JVM Memory Usage</span>
            <span class="na">condition</span><span class="pi">:</span> <span class="s">C</span>
            <span class="na">data</span><span class="pi">:</span>
              <span class="pi">-</span> <span class="na">refId</span><span class="pi">:</span> <span class="s">A</span>
                <span class="na">relativeTimeRange</span><span class="pi">:</span>
                  <span class="na">from</span><span class="pi">:</span> <span class="m">600</span>
                  <span class="na">to</span><span class="pi">:</span> <span class="m">0</span>
                <span class="na">datasourceUid</span><span class="pi">:</span> <span class="s">o11y-prometheus</span>
                <span class="na">model</span><span class="pi">:</span>
                  <span class="na">editorMode</span><span class="pi">:</span> <span class="s">code</span>
                  <span class="na">expr</span><span class="pi">:</span> <span class="pi">|-</span>
                    <span class="s">(</span>
                                      <span class="s">sum by(pod) (jvm_memory_used_bytes{jvm_memory_type="heap"})</span>
                                      <span class="s">/</span>
                                      <span class="s">sum by(pod) (jvm_memory_limit_bytes{jvm_memory_type="heap"})</span>
                                    <span class="s">) * 100</span>
                  <span class="na">instant</span><span class="pi">:</span> <span class="kc">true</span>
                  <span class="na">intervalMs</span><span class="pi">:</span> <span class="m">1000</span>
                  <span class="na">legendFormat</span><span class="pi">:</span> <span class="s">__auto</span>
                  <span class="na">maxDataPoints</span><span class="pi">:</span> <span class="m">43200</span>
                  <span class="na">range</span><span class="pi">:</span> <span class="kc">false</span>
                  <span class="na">refId</span><span class="pi">:</span> <span class="s">A</span>
              <span class="pi">-</span> <span class="na">refId</span><span class="pi">:</span> <span class="s">C</span>
                <span class="na">datasourceUid</span><span class="pi">:</span> <span class="s">__expr__</span>
                <span class="na">model</span><span class="pi">:</span>
                  <span class="na">conditions</span><span class="pi">:</span>
                    <span class="pi">-</span> <span class="na">evaluator</span><span class="pi">:</span>
                        <span class="na">params</span><span class="pi">:</span>
                          <span class="pi">-</span> <span class="m">80</span>
                        <span class="na">type</span><span class="pi">:</span> <span class="s">gt</span>
                      <span class="na">operator</span><span class="pi">:</span>
                        <span class="na">type</span><span class="pi">:</span> <span class="s">and</span>
                      <span class="na">query</span><span class="pi">:</span>
                        <span class="na">params</span><span class="pi">:</span>
                          <span class="pi">-</span> <span class="s">C</span>
                      <span class="na">reducer</span><span class="pi">:</span>
                        <span class="na">params</span><span class="pi">:</span> <span class="pi">[</span> <span class="pi">]</span>
                        <span class="na">type</span><span class="pi">:</span> <span class="s">last</span>
                      <span class="na">type</span><span class="pi">:</span> <span class="s">query</span>
                  <span class="na">datasource</span><span class="pi">:</span>
                    <span class="na">type</span><span class="pi">:</span> <span class="s">__expr__</span>
                    <span class="na">uid</span><span class="pi">:</span> <span class="s">__expr__</span>
                  <span class="na">expression</span><span class="pi">:</span> <span class="s">A</span>
                  <span class="na">intervalMs</span><span class="pi">:</span> <span class="m">1000</span>
                  <span class="na">maxDataPoints</span><span class="pi">:</span> <span class="m">43200</span>
                  <span class="na">refId</span><span class="pi">:</span> <span class="s">C</span>
                  <span class="na">type</span><span class="pi">:</span> <span class="s">threshold</span>
            <span class="na">dashboardUid</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span>
            <span class="na">panelId</span><span class="pi">:</span> <span class="m">0</span>
            <span class="na">noDataState</span><span class="pi">:</span> <span class="s">NoData</span>
            <span class="na">execErrState</span><span class="pi">:</span> <span class="s">Error</span>
            <span class="na">for</span><span class="pi">:</span> <span class="s">1m</span>
            <span class="na">isPaused</span><span class="pi">:</span> <span class="kc">false</span>
            <span class="na">notification_settings</span><span class="pi">:</span>
              <span class="na">receiver</span><span class="pi">:</span> <span class="s">service-operators</span>
      <span class="pi">-</span> <span class="na">orgId</span><span class="pi">:</span> <span class="m">1</span>
        <span class="na">name</span><span class="pi">:</span> <span class="s">jvm-cpu-evaluation</span>
        <span class="na">folder</span><span class="pi">:</span> <span class="s">java-metrics</span>
        <span class="na">interval</span><span class="pi">:</span> <span class="s">30s</span>
        <span class="na">rules</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="na">uid</span><span class="pi">:</span> <span class="s">den6wkxi4n75sf</span>
            <span class="na">title</span><span class="pi">:</span> <span class="s">high-jvm-cpu</span>
            <span class="na">condition</span><span class="pi">:</span> <span class="s">C</span>
            <span class="na">data</span><span class="pi">:</span>
              <span class="pi">-</span> <span class="na">refId</span><span class="pi">:</span> <span class="s">A</span>
                <span class="na">relativeTimeRange</span><span class="pi">:</span>
                  <span class="na">from</span><span class="pi">:</span> <span class="m">600</span>
                  <span class="na">to</span><span class="pi">:</span> <span class="m">0</span>
                <span class="na">datasourceUid</span><span class="pi">:</span> <span class="s">o11y-prometheus</span>
                <span class="na">model</span><span class="pi">:</span>
                  <span class="na">editorMode</span><span class="pi">:</span> <span class="s">code</span>
                  <span class="na">expr</span><span class="pi">:</span> <span class="s">avg_over_time(jvm_cpu_recent_utilization_ratio[2m])</span>
                  <span class="na">instant</span><span class="pi">:</span> <span class="kc">true</span>
                  <span class="na">intervalMs</span><span class="pi">:</span> <span class="m">1000</span>
                  <span class="na">legendFormat</span><span class="pi">:</span> <span class="s">__auto</span>
                  <span class="na">maxDataPoints</span><span class="pi">:</span> <span class="m">43200</span>
                  <span class="na">range</span><span class="pi">:</span> <span class="kc">false</span>
                  <span class="na">refId</span><span class="pi">:</span> <span class="s">A</span>
              <span class="pi">-</span> <span class="na">refId</span><span class="pi">:</span> <span class="s">C</span>
                <span class="na">datasourceUid</span><span class="pi">:</span> <span class="s">__expr__</span>
                <span class="na">model</span><span class="pi">:</span>
                  <span class="na">conditions</span><span class="pi">:</span>
                    <span class="pi">-</span> <span class="na">evaluator</span><span class="pi">:</span>
                        <span class="na">params</span><span class="pi">:</span>
                          <span class="pi">-</span> <span class="m">0.6</span>
                        <span class="na">type</span><span class="pi">:</span> <span class="s">gt</span>
                      <span class="na">operator</span><span class="pi">:</span>
                        <span class="na">type</span><span class="pi">:</span> <span class="s">and</span>
                      <span class="na">query</span><span class="pi">:</span>
                        <span class="na">params</span><span class="pi">:</span>
                          <span class="pi">-</span> <span class="s">C</span>
                      <span class="na">reducer</span><span class="pi">:</span>
                        <span class="na">params</span><span class="pi">:</span> <span class="pi">[</span> <span class="pi">]</span>
                        <span class="na">type</span><span class="pi">:</span> <span class="s">last</span>
                      <span class="na">type</span><span class="pi">:</span> <span class="s">query</span>
                  <span class="na">datasource</span><span class="pi">:</span>
                    <span class="na">type</span><span class="pi">:</span> <span class="s">__expr__</span>
                    <span class="na">uid</span><span class="pi">:</span> <span class="s">__expr__</span>
                  <span class="na">expression</span><span class="pi">:</span> <span class="s">A</span>
                  <span class="na">intervalMs</span><span class="pi">:</span> <span class="m">1000</span>
                  <span class="na">maxDataPoints</span><span class="pi">:</span> <span class="m">43200</span>
                  <span class="na">refId</span><span class="pi">:</span> <span class="s">C</span>
                  <span class="na">type</span><span class="pi">:</span> <span class="s">threshold</span>
            <span class="na">noDataState</span><span class="pi">:</span> <span class="s">NoData</span>
            <span class="na">execErrState</span><span class="pi">:</span> <span class="s">Error</span>
            <span class="na">for</span><span class="pi">:</span> <span class="s">1m</span>
            <span class="na">isPaused</span><span class="pi">:</span> <span class="kc">false</span>
            <span class="na">notification_settings</span><span class="pi">:</span>
              <span class="na">receiver</span><span class="pi">:</span> <span class="s">service-operators</span></code></pre>
</div>
</div>
<div class="imageblock img-wide">
<div class="content">
<img src="images/grafana-alert-rules.png" alt="grafana alert rules">
</div>
<div class="title">Figure 4. Grafana Alert Rules</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="conclusion">Conclusion</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This guide demonstrated how to provision and manage Grafana resources using Helm charts, covering datasources, dashboard providers, dashboards, contact points, and alert rules. This approach enables repeatable, automated deployment of observability tooling within Kubernetes environments.</p>
</div>
<div class="paragraph">
<p>To explore advanced configurations, refer to the official Grafana documentation.</p>
</div>
<div class="paragraph">
<p>You can also view this document in web format at:
<a href="https://nsalexamy.github.io/service-foundry/pages/documents/o11y-foundry/grafana-resource-provisioning/" class="bare">https://nsalexamy.github.io/service-foundry/pages/documents/o11y-foundry/grafana-resource-provisioning/</a></p>
</div>
</div>
</div>
        </div>
    </main>
</div>




<script>
    const toc = document.getElementById('toc');
    const container = document.getElementById('toc-container');
    if (toc && container) {
        container.appendChild(toc);
    }
</script>


<!--<button onclick="toggleTheme()" style="position: fixed; bottom: 1rem; right: 1rem; padding: 0.5rem 1rem; background-color: var(&#45;&#45;link); color: white; border: none; border-radius: 0.375rem; cursor: pointer;">-->
<!--    Toggle Theme-->
<!--</button>-->

<!--<script>-->
<!--    function toggleTheme() {-->
<!--        const html = document.documentElement;-->
<!--        const isDark = html.getAttribute("data-theme") === "dark";-->
<!--        html.setAttribute("data-theme", isDark ? "light" : "dark");-->
<!--        localStorage.setItem("theme", isDark ? "light" : "dark");-->
<!--    }-->

<!--    document.addEventListener("DOMContentLoaded", () => {-->
<!--        const savedTheme = localStorage.getItem("theme") || "light";-->
<!--        document.documentElement.setAttribute("data-theme", savedTheme);-->
<!--    });-->
<!--</script>-->

<!-- Footer -->
<footer class="bg-gray-900 text-white text-sm py-6 text-center">
     2025 Service Foundry. All rights reserved.
</footer>
</body>
</html>